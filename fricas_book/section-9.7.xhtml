<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section9.7</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.6.xhtml" style="margin-right: 10px;">Previous Section 9.6 CardinalNumber</a><a href="section-9.8.xhtml" style="margin-right: 10px;">Next Section 9.8 Character</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-9.7">
<h2 class="sectiontitle">9.7  CartesianTensor</h2>


<a name="CartesianTensorXmpPage" class="label"/>


<p><span class="teletype">CartesianTensor(i0,dim,R)</span> provides Cartesian tensors with
components belonging to a commutative ring <span class="teletype">R</span>.  Tensors can be
described as a generalization of vectors and matrices.  This gives a
concise <span class="italic">tensor algebra</span> for multilinear objects supported by the
<span class="teletype">CartesianTensor</span> domain.  You can form the inner or outer product
of any two tensors and you can add or subtract tensors with the same
number of components.  Additionally, various forms of traces and
transpositions are useful.
</p>


<p>The <span class="teletype">CartesianTensor</span> constructor allows you to specify the
minimum index for subscripting.  In what follows we discuss in detail
how to manipulate tensors.
</p>


<p>Here we construct the domain of Cartesian tensors of dimension 2 over the
integers, with indices starting at 1.
</p>




<div id="spadComm9-77" class="spadComm" >
<form id="formComm9-77" action="javascript:makeRequest('9-77');" >
<input id="comm9-77" type="text" class="command" style="width: 22em;" value="CT := CARTEN(i0 := 1, 2, Integer)" />
</form>
<span id="commSav9-77" class="commSav" >CT := CARTEN(i0 := 1, 2, Integer)</span>
<div id="mathAns9-77" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mi>CartesianTensor</mi><mo>(</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>Integer</mi><mo>)</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Domain
</div>


<a name="subsec-7.1"/>
<div class="subsection" id="subsec-7.1">
<h3 class="subsectitle">7.1 Forming tensors</h3>



<p>Scalars can be converted to tensors of rank zero.
</p>




<div id="spadComm9-78" class="spadComm" >
<form id="formComm9-78" action="javascript:makeRequest('9-78');" >
<input id="comm9-78" type="text" class="command" style="width: 8em;" value="t0: CT := 8" />
</form>
<span id="commSav9-78" class="commSav" >t0: CT := 8</span>
<div id="mathAns9-78" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>8</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-79" class="spadComm" >
<form id="formComm9-79" action="javascript:makeRequest('9-79');" >
<input id="comm9-79" type="text" class="command" style="width: 5em;" value="rank t0" />
</form>
<span id="commSav9-79" class="commSav" >rank t0</span>
<div id="mathAns9-79" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>0</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: NonNegativeInteger
</div>



<p>Vectors (mathematical direct products, rather than one dimensional array
structures) can be converted to tensors of rank one.
</p>




<div id="spadComm9-80" class="spadComm" >
<form id="formComm9-80" action="javascript:makeRequest('9-80');" >
<input id="comm9-80" type="text" class="command" style="width: 34em;" value="v: DirectProduct(2, Integer) := directProduct [3,4]" />
</form>
<span id="commSav9-80" class="commSav" >v: DirectProduct(2, Integer) := directProduct [3,4]</span>
<div id="mathAns9-80" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mn>3</mn><mo>,</mo><mn>4</mn><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DirectProduct(2,Integer)
</div>





<div id="spadComm9-81" class="spadComm" >
<form id="formComm9-81" action="javascript:makeRequest('9-81');" >
<input id="comm9-81" type="text" class="command" style="width: 8em;" value="Tv: CT := v" />
</form>
<span id="commSav9-81" class="commSav" >Tv: CT := v</span>
<div id="mathAns9-81" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mn>3</mn><mo>,</mo><mn>4</mn><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>Matrices can be converted to tensors of rank two.
</p>




<div id="spadComm9-82" class="spadComm" >
<form id="formComm9-82" action="javascript:makeRequest('9-82');" >
<input id="comm9-82" type="text" class="command" style="width: 36em;" value="m: SquareMatrix(2, Integer) := matrix [ [1,2],[4,5] ]" />
</form>
<span id="commSav9-82" class="commSav" >m: SquareMatrix(2, Integer) := matrix [ [1,2],[4,5] ]</span>
<div id="mathAns9-82" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: SquareMatrix(2,Integer)
</div>





<div id="spadComm9-83" class="spadComm" >
<form id="formComm9-83" action="javascript:makeRequest('9-83');" >
<input id="comm9-83" type="text" class="command" style="width: 8em;" value="Tm: CT := m" />
</form>
<span id="commSav9-83" class="commSav" >Tm: CT := m</span>
<div id="mathAns9-83" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-84" class="spadComm" >
<form id="formComm9-84" action="javascript:makeRequest('9-84');" >
<input id="comm9-84" type="text" class="command" style="width: 36em;" value="n: SquareMatrix(2, Integer) := matrix [ [2,3],[0,1] ]" />
</form>
<span id="commSav9-84" class="commSav" >n: SquareMatrix(2, Integer) := matrix [ [2,3],[0,1] ]</span>
<div id="mathAns9-84" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: SquareMatrix(2,Integer)
</div>





<div id="spadComm9-85" class="spadComm" >
<form id="formComm9-85" action="javascript:makeRequest('9-85');" >
<input id="comm9-85" type="text" class="command" style="width: 8em;" value="Tn: CT := n" />
</form>
<span id="commSav9-85" class="commSav" >Tn: CT := n</span>
<div id="mathAns9-85" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>In general, a tensor of rank <span class="teletype">k</span> can be formed by making a list of
rank <span class="teletype">k-1</span> tensors or, alternatively, a <span class="teletype">k</span>-deep nested list
of lists.
</p>




<div id="spadComm9-86" class="spadComm" >
<form id="formComm9-86" action="javascript:makeRequest('9-86');" >
<input id="comm9-86" type="text" class="command" style="width: 11em;" value="t1: CT := [2, 3]" />
</form>
<span id="commSav9-86" class="commSav" >t1: CT := [2, 3]</span>
<div id="mathAns9-86" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-87" class="spadComm" >
<form id="formComm9-87" action="javascript:makeRequest('9-87');" >
<input id="comm9-87" type="text" class="command" style="width: 5em;" value="rank t1" />
</form>
<span id="commSav9-87" class="commSav" >rank t1</span>
<div id="mathAns9-87" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>1</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-88" class="spadComm" >
<form id="formComm9-88" action="javascript:makeRequest('9-88');" >
<input id="comm9-88" type="text" class="command" style="width: 12em;" value="t2: CT := [t1, t1]" />
</form>
<span id="commSav9-88" class="commSav" >t2: CT := [t1, t1]</span>
<div id="mathAns9-88" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-89" class="spadComm" >
<form id="formComm9-89" action="javascript:makeRequest('9-89');" >
<input id="comm9-89" type="text" class="command" style="width: 12em;" value="t3: CT := [t2, t2]" />
</form>
<span id="commSav9-89" class="commSav" >t3: CT := [t2, t2]</span>
<div id="mathAns9-89" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>,</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-90" class="spadComm" >
<form id="formComm9-90" action="javascript:makeRequest('9-90');" >
<input id="comm9-90" type="text" class="command" style="width: 23em;" value="tt: CT := [t3, t3]; tt := [tt, tt]" />
</form>
<span id="commSav9-90" class="commSav" >tt: CT := [t3, t3]; tt := [tt, tt]</span>
<div id="mathAns9-90" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow><mo>,</mo><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-91" class="spadComm" >
<form id="formComm9-91" action="javascript:makeRequest('9-91');" >
<input id="comm9-91" type="text" class="command" style="width: 5em;" value="rank tt" />
</form>
<span id="commSav9-91" class="commSav" >rank tt</span>
<div id="mathAns9-91" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>5</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





</div>

<a name="subsec-7.2"/>
<div class="subsection" id="subsec-7.2">
<h3 class="subsectitle">7.2 Multiplication</h3>



<p>Given two tensors of rank <span class="teletype">k1</span> and <span class="teletype">k2</span>, the outer
<span class="spadfunFrom" >product</span><span class="index">product</span><a name="chapter-9-29"/><span class="index">CartesianTensor</span><a name="chapter-9-30"/> forms a new tensor of rank 
<span class="teletype">k1+k2</span>. Here
</p>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><msub><mi>T</mi><mi>mn</mi></msub><mo>(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo>,</mo><mi>k</mi><mo>,</mo><mi>l</mi><mo>)</mo><mo>=</mo><msub><mi>T</mi><mi>m</mi></msub><mo>(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo>)</mo><mspace width="0.5 em" /><msub><mi>T</mi><mi>n</mi></msub><mo>(</mo><mi>k</mi><mo>,</mo><mi>l</mi><mo>)</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>





<div id="spadComm9-92" class="spadComm" >
<form id="formComm9-92" action="javascript:makeRequest('9-92');" >
<input id="comm9-92" type="text" class="command" style="width: 15em;" value="Tmn := product(Tm, Tn)" />
</form>
<span id="commSav9-92" class="commSav" >Tmn := product(Tm, Tn)</span>
<div id="mathAns9-92" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>4</mn></mtd><mtd><mn>6</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>2</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>8</mn></mtd><mtd><mn>12</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>4</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>10</mn></mtd><mtd><mn>15</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>The inner product (<span class="spadfunFrom" >contract</span><span class="index">contract</span><a name="chapter-9-31"/><span class="index">CartesianTensor</span><a name="chapter-9-32"/>) forms a
tensor of rank <span class="teletype">k1+k2-2</span>.  This product generalizes the vector dot
product and matrix-vector product by summing component products along
two indices.
</p>


<p>Here we sum along the second index of  <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><msub><mi>T</mi><mi>m</mi></msub></mrow></mstyle></math> and the first index of
 <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><msub><mi>T</mi><mi>v</mi></msub></mrow></mstyle></math>.  Here 
</p>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle></mstyle></math>
</td></tr>
</table>
</div>





<div id="spadComm9-93" class="spadComm" >
<form id="formComm9-93" action="javascript:makeRequest('9-93');" >
<input id="comm9-93" type="text" class="command" style="width: 18em;" value="Tmv := contract(Tm,2,Tv,1)" />
</form>
<span id="commSav9-93" class="commSav" >Tmv := contract(Tm,2,Tv,1)</span>
<div id="mathAns9-93" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mn>11</mn><mo>,</mo><mn>32</mn><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>The multiplication operator <span class="spadopFrom" title="CartesianTensor">*</span> is scalar
multiplication or an inner product depending on the ranks of the arguments.
</p>


<p>If either argument is rank zero it is treated as scalar multiplication.
Otherwise, <span class="teletype">a*b</span> is the inner product summing the last index of
<span class="teletype">a</span> with the first index of <span class="teletype">b</span>.
</p>




<div id="spadComm9-94" class="spadComm" >
<form id="formComm9-94" action="javascript:makeRequest('9-94');" >
<input id="comm9-94" type="text" class="command" style="width: 4em;" value="Tm*Tv" />
</form>
<span id="commSav9-94" class="commSav" >Tm*Tv</span>
<div id="mathAns9-94" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mn>11</mn><mo>,</mo><mn>32</mn><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>This definition is consistent with the inner product on matrices
and vectors.
</p>




<div id="spadComm9-95" class="spadComm" >
<form id="formComm9-95" action="javascript:makeRequest('9-95');" >
<input id="comm9-95" type="text" class="command" style="width: 8em;" value="Tmv = m * v" />
</form>
<span id="commSav9-95" class="commSav" >Tmv = m * v</span>
<div id="mathAns9-95" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mn>11</mn><mo>,</mo><mn>32</mn><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mn>11</mn><mo>,</mo><mn>32</mn><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





</div>

<a name="subsec-7.3"/>
<div class="subsection" id="subsec-7.3">
<h3 class="subsectitle">7.3 Selecting Components</h3>



<p>For tensors of low rank (that is, four or less), components can be selected
by applying the tensor to its indices.
</p>




<div id="spadComm9-96" class="spadComm" >
<form id="formComm9-96" action="javascript:makeRequest('9-96');" >
<input id="comm9-96" type="text" class="command" style="width: 3em;" value="t0()" />
</form>
<span id="commSav9-96" class="commSav" >t0()</span>
<div id="mathAns9-96" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>8</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-97" class="spadComm" >
<form id="formComm9-97" action="javascript:makeRequest('9-97');" >
<input id="comm9-97" type="text" class="command" style="width: 5em;" value="t1(1+1)" />
</form>
<span id="commSav9-97" class="commSav" >t1(1+1)</span>
<div id="mathAns9-97" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>3</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-98" class="spadComm" >
<form id="formComm9-98" action="javascript:makeRequest('9-98');" >
<input id="comm9-98" type="text" class="command" style="width: 5em;" value="t2(2,1)" />
</form>
<span id="commSav9-98" class="commSav" >t2(2,1)</span>
<div id="mathAns9-98" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>2</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-99" class="spadComm" >
<form id="formComm9-99" action="javascript:makeRequest('9-99');" >
<input id="comm9-99" type="text" class="command" style="width: 6em;" value="t3(2,1,2)" />
</form>
<span id="commSav9-99" class="commSav" >t3(2,1,2)</span>
<div id="mathAns9-99" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>3</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-100" class="spadComm" >
<form id="formComm9-100" action="javascript:makeRequest('9-100');" >
<input id="comm9-100" type="text" class="command" style="width: 8em;" value="Tmn(2,1,2,1)" />
</form>
<span id="commSav9-100" class="commSav" >Tmn(2,1,2,1)</span>
<div id="mathAns9-100" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>0</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: NonNegativeInteger
</div>



<p>A general indexing mechanism is provided for a list of indices.
</p>




<div id="spadComm9-101" class="spadComm" >
<form id="formComm9-101" action="javascript:makeRequest('9-101');" >
<input id="comm9-101" type="text" class="command" style="width: 3em;" value="t0[]" />
</form>
<span id="commSav9-101" class="commSav" >t0[]</span>
<div id="mathAns9-101" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>8</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-102" class="spadComm" >
<form id="formComm9-102" action="javascript:makeRequest('9-102');" >
<input id="comm9-102" type="text" class="command" style="width: 4em;" value="t1[2]" />
</form>
<span id="commSav9-102" class="commSav" >t1[2]</span>
<div id="mathAns9-102" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>3</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-103" class="spadComm" >
<form id="formComm9-103" action="javascript:makeRequest('9-103');" >
<input id="comm9-103" type="text" class="command" style="width: 5em;" value="t2[2,1]" />
</form>
<span id="commSav9-103" class="commSav" >t2[2,1]</span>
<div id="mathAns9-103" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>2</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>



<p>The general mechanism works for tensors of arbitrary rank, but is
somewhat less efficient since the intermediate index list must be created.
</p>




<div id="spadComm9-104" class="spadComm" >
<form id="formComm9-104" action="javascript:makeRequest('9-104');" >
<input id="comm9-104" type="text" class="command" style="width: 6em;" value="t3[2,1,2]" />
</form>
<span id="commSav9-104" class="commSav" >t3[2,1,2]</span>
<div id="mathAns9-104" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>3</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-105" class="spadComm" >
<form id="formComm9-105" action="javascript:makeRequest('9-105');" >
<input id="comm9-105" type="text" class="command" style="width: 8em;" value="Tmn[2,1,2,1]" />
</form>
<span id="commSav9-105" class="commSav" >Tmn[2,1,2,1]</span>
<div id="mathAns9-105" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>0</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: NonNegativeInteger
</div>





</div>

<a name="subsec-7.4"/>
<div class="subsection" id="subsec-7.4">
<h3 class="subsectitle">7.4 Contraction</h3>



<p>A <span class="italic">contraction</span> between two tensors is an inner product, as we have
seen above.  You can also contract a pair of indices of a single
tensor.  This corresponds to a <span class="italic">trace</span> in linear algebra.  The
expression <span class="teletype">contract(t,k1,k2)</span> forms a new tensor by summing the
diagonal given by indices in position <span class="teletype">k1</span> and <span class="teletype">k2</span>.
</p>


<p>This is the tensor given by
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle></mstyle></math>
</p>




<div id="spadComm9-106" class="spadComm" >
<form id="formComm9-106" action="javascript:makeRequest('9-106');" >
<input id="comm9-106" type="text" class="command" style="width: 17em;" value="cTmn := contract(Tmn,1,2)" />
</form>
<span id="commSav9-106" class="commSav" >cTmn := contract(Tmn,1,2)</span>
<div id="mathAns9-106" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>12</mn></mtd><mtd><mn>18</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>Since <span class="teletype">Tmn</span> is the outer product of matrix <span class="teletype">m</span> and matrix <span class="teletype">n</span>,
the above is equivalent to this.
</p>




<div id="spadComm9-107" class="spadComm" >
<form id="formComm9-107" action="javascript:makeRequest('9-107');" >
<input id="comm9-107" type="text" class="command" style="width: 8em;" value="trace(m) * n" />
</form>
<span id="commSav9-107" class="commSav" >trace(m) * n</span>
<div id="mathAns9-107" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>12</mn></mtd><mtd><mn>18</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: SquareMatrix(2,Integer)
</div>



<p>In this and the next few examples, we show all possible contractions
of <span class="teletype">Tmn</span> and their matrix algebra equivalents.
</p>




<div id="spadComm9-108" class="spadComm" >
<form id="formComm9-108" action="javascript:makeRequest('9-108');" >
<input id="comm9-108" type="text" class="command" style="width: 22em;" value="contract(Tmn,1,2) = trace(m) * n" />
</form>
<span id="commSav9-108" class="commSav" >contract(Tmn,1,2) = trace(m) * n</span>
<div id="mathAns9-108" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>12</mn></mtd><mtd><mn>18</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>12</mn></mtd><mtd><mn>18</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-109" class="spadComm" >
<form id="formComm9-109" action="javascript:makeRequest('9-109');" >
<input id="comm9-109" type="text" class="command" style="width: 24em;" value="contract(Tmn,1,3) = transpose(m) * n" />
</form>
<span id="commSav9-109" class="commSav" >contract(Tmn,1,3) = transpose(m) * n</span>
<div id="mathAns9-109" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>7</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>11</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>7</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>11</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-110" class="spadComm" >
<form id="formComm9-110" action="javascript:makeRequest('9-110');" >
<input id="comm9-110" type="text" class="command" style="width: 32em;" value="contract(Tmn,1,4) = transpose(m) * transpose(n)" />
</form>
<span id="commSav9-110" class="commSav" >contract(Tmn,1,4) = transpose(m) * transpose(n)</span>
<div id="mathAns9-110" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>14</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>19</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>14</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>19</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-111" class="spadComm" >
<form id="formComm9-111" action="javascript:makeRequest('9-111');" >
<input id="comm9-111" type="text" class="command" style="width: 17em;" value="contract(Tmn,2,3) = m * n" />
</form>
<span id="commSav9-111" class="commSav" >contract(Tmn,2,3) = m * n</span>
<div id="mathAns9-111" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>5</mn></mtd></mtr><mtr><mtd><mn>8</mn></mtd><mtd><mn>17</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>5</mn></mtd></mtr><mtr><mtd><mn>8</mn></mtd><mtd><mn>17</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-112" class="spadComm" >
<form id="formComm9-112" action="javascript:makeRequest('9-112');" >
<input id="comm9-112" type="text" class="command" style="width: 24em;" value="contract(Tmn,2,4) = m * transpose(n)" />
</form>
<span id="commSav9-112" class="commSav" >contract(Tmn,2,4) = m * transpose(n)</span>
<div id="mathAns9-112" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>8</mn></mtd><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>23</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>8</mn></mtd><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>23</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-113" class="spadComm" >
<form id="formComm9-113" action="javascript:makeRequest('9-113');" >
<input id="comm9-113" type="text" class="command" style="width: 22em;" value="contract(Tmn,3,4) = trace(n) * m" />
</form>
<span id="commSav9-113" class="commSav" >contract(Tmn,3,4) = trace(n) * m</span>
<div id="mathAns9-113" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>3</mn></mtd><mtd><mn>6</mn></mtd></mtr><mtr><mtd><mn>12</mn></mtd><mtd><mn>15</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>3</mn></mtd><mtd><mn>6</mn></mtd></mtr><mtr><mtd><mn>12</mn></mtd><mtd><mn>15</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





</div>

<a name="subsec-7.5"/>
<div class="subsection" id="subsec-7.5">
<h3 class="subsectitle">7.5 Transpositions</h3>


<p>You can exchange any desired pair of indices using the
<span class="spadfunFrom" >transpose</span><span class="index">transpose</span><a name="chapter-9-33"/><span class="index">CartesianTensor</span><a name="chapter-9-34"/> operation.
</p>


<p>Here the indices in positions one and three are exchanged, that is,
 <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><msub><mi>tT</mi><mi>mn</mi></msub><mo>(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo>,</mo><mi>k</mi><mo>,</mo><mi>l</mi><mo>)</mo><mo>=</mo><msub><mi>T</mi><mi>mn</mi></msub><mo>(</mo><mi>k</mi><mo>,</mo><mi>j</mi><mo>,</mo><mi>i</mi><mo>,</mo><mi>l</mi><mo>)</mo><mo>.</mo></mrow></mstyle></math>
</p>




<div id="spadComm9-114" class="spadComm" >
<form id="formComm9-114" action="javascript:makeRequest('9-114');" >
<input id="comm9-114" type="text" class="command" style="width: 18em;" value="tTmn := transpose(Tmn,1,3)" />
</form>
<span id="commSav9-114" class="commSav" >tTmn := transpose(Tmn,1,3)</span>
<div id="mathAns9-114" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>8</mn></mtd><mtd><mn>12</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>4</mn></mtd><mtd><mn>6</mn></mtd></mtr><mtr><mtd><mn>10</mn></mtd><mtd><mn>15</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>4</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>If no indices are specified, the first and last index are exchanged.
</p>




<div id="spadComm9-115" class="spadComm" >
<form id="formComm9-115" action="javascript:makeRequest('9-115');" >
<input id="comm9-115" type="text" class="command" style="width: 9em;" value="transpose Tmn" />
</form>
<span id="commSav9-115" class="commSav" >transpose Tmn</span>
<div id="mathAns9-115" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>8</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>4</mn></mtd><mtd><mn>10</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>3</mn></mtd><mtd><mn>12</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd><mtd><mn>4</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>6</mn></mtd><mtd><mn>15</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>This is consistent with the matrix transpose.
</p>




<div id="spadComm9-116" class="spadComm" >
<form id="formComm9-116" action="javascript:makeRequest('9-116');" >
<input id="comm9-116" type="text" class="command" style="width: 18em;" value="transpose Tm = transpose m" />
</form>
<span id="commSav9-116" class="commSav" >transpose Tm = transpose m</span>
<div id="mathAns9-116" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>



<p>If a more complicated reordering of the indices is required, then the
<span class="spadfunFrom" >reindex</span><span class="index">reindex</span><a name="chapter-9-35"/><span class="index">CartesianTensor</span><a name="chapter-9-36"/> operation can be used.
This operation allows the indices to be arbitrarily permuted.
</p>


<p>This defines  <math xmlns="&mathml;" mathsize="big"><mstyle></mstyle></math>
</p>




<div id="spadComm9-117" class="spadComm" >
<form id="formComm9-117" action="javascript:makeRequest('9-117');" >
<input id="comm9-117" type="text" class="command" style="width: 21em;" value="rTmn := reindex(Tmn, [1,4,2,3])" />
</form>
<span id="commSav9-117" class="commSav" >rTmn := reindex(Tmn, [1,4,2,3])</span>
<div id="mathAns9-117" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>3</mn></mtd><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>6</mn></mtd><mtd><mn>2</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>8</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>10</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>12</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>15</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





</div>


<a name="subsec-7.6"/>
<div class="subsection" id="subsec-7.6">
<h3 class="subsectitle">7.6 Arithmetic</h3>



<p>Tensors of equal rank can be added or subtracted so arithmetic
expressions can be used to produce new tensors.
</p>




<div id="spadComm9-118" class="spadComm" >
<form id="formComm9-118" action="javascript:makeRequest('9-118');" >
<input id="comm9-118" type="text" class="command" style="width: 28em;" value="tt := transpose(Tm)*Tn - Tn*transpose(Tm)" />
</form>
<span id="commSav9-118" class="commSav" >tt := transpose(Tm)*Tn - Tn*transpose(Tm)</span>
<div id="mathAns9-118" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mo>-</mo><mn>6</mn></mtd><mtd><mo>-</mo><mn>16</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-119" class="spadComm" >
<form id="formComm9-119" action="javascript:makeRequest('9-119');" >
<input id="comm9-119" type="text" class="command" style="width: 7em;" value="Tv*(tt+Tn)" />
</form>
<span id="commSav9-119" class="commSav" >Tv*(tt+Tn)</span>
<div id="mathAns9-119" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mo>-</mo><mn>4</mn><mo>,</mo><mo>-</mo><mn>11</mn><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





<div id="spadComm9-120" class="spadComm" >
<form id="formComm9-120" action="javascript:makeRequest('9-120');" >
<input id="comm9-120" type="text" class="command" style="width: 36em;" value="reindex(product(Tn,Tn),[4,3,2,1])+3*Tn*product(Tm,Tm)" />
</form>
<span id="commSav9-120" class="commSav" >reindex(product(Tn,Tn),[4,3,2,1])+3*Tn*product(Tm,Tm)</span>
<div id="mathAns9-120" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>46</mn></mtd><mtd><mn>84</mn></mtd></mtr><mtr><mtd><mn>174</mn></mtd><mtd><mn>212</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>57</mn></mtd><mtd><mn>114</mn></mtd></mtr><mtr><mtd><mn>228</mn></mtd><mtd><mn>285</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>18</mn></mtd><mtd><mn>24</mn></mtd></mtr><mtr><mtd><mn>57</mn></mtd><mtd><mn>63</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>17</mn></mtd><mtd><mn>30</mn></mtd></mtr><mtr><mtd><mn>63</mn></mtd><mtd><mn>76</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>





</div>

<a name="subsec-7.7"/>
<div class="subsection" id="subsec-7.7">
<h3 class="subsectitle">7.7 Specific Tensors</h3>



<p>Two specific tensors have properties which depend only on the
dimension.
</p>


<p>The Kronecker delta satisfies
</p>



<div class="verbatim"><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+-<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;if&nbsp;i&nbsp;&nbsp;=&nbsp;j<br />
delta(i,j)&nbsp;=&nbsp;|<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;if&nbsp;i&nbsp;^=&nbsp;j<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+-<br />
</div>





<div id="spadComm9-121" class="spadComm" >
<form id="formComm9-121" action="javascript:makeRequest('9-121');" >
<input id="comm9-121" type="text" class="command" style="width: 20em;" value="delta:  CT := kroneckerDelta()" />
</form>
<span id="commSav9-121" class="commSav" >delta:  CT := kroneckerDelta()</span>
<div id="mathAns9-121" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>This can be used to reindex via contraction.
</p>




<div id="spadComm9-122" class="spadComm" >
<form id="formComm9-122" action="javascript:makeRequest('9-122');" >
<input id="comm9-122" type="text" class="command" style="width: 35em;" value="contract(Tmn, 2, delta, 1) = reindex(Tmn, [1,3,4,2])" />
</form>
<span id="commSav9-122" class="commSav" >contract(Tmn, 2, delta, 1) = reindex(Tmn, [1,3,4,2])</span>
<div id="mathAns9-122" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>3</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd><mtd><mn>2</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>8</mn></mtd><mtd><mn>10</mn></mtd></mtr><mtr><mtd><mn>12</mn></mtd><mtd><mn>15</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>2</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>3</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd><mtd><mn>2</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>8</mn></mtd><mtd><mn>10</mn></mtd></mtr><mtr><mtd><mn>12</mn></mtd><mtd><mn>15</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd><mtd><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>5</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>



<p>The Levi Civita symbol determines the sign of a permutation of indices.
</p>




<div id="spadComm9-123" class="spadComm" >
<form id="formComm9-123" action="javascript:makeRequest('9-123');" >
<input id="comm9-123" type="text" class="command" style="width: 22em;" value="epsilon:CT := leviCivitaSymbol()" />
</form>
<span id="commSav9-123" class="commSav" >epsilon:CT := leviCivitaSymbol()</span>
<div id="mathAns9-123" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mo>-</mo><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: CartesianTensor(1,2,Integer)
</div>



<p>Here we have:
</p>



<div class="verbatim"><br />
epsilon(i1,...,idim)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;+1&nbsp;&nbsp;if&nbsp;i1,...,idim&nbsp;is&nbsp;an&nbsp;even&nbsp;permutation&nbsp;of&nbsp;i0,...,i0+dim-1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;-1&nbsp;&nbsp;if&nbsp;i1,...,idim&nbsp;is&nbsp;an&nbsp;&nbsp;odd&nbsp;permutation&nbsp;of&nbsp;i0,...,i0+dim-1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;0&nbsp;&nbsp;if&nbsp;i1,...,idim&nbsp;is&nbsp;not&nbsp;&nbsp;&nbsp;a&nbsp;permutation&nbsp;of&nbsp;i0,...,i0+dim-1<br />
</div>



<p>This property can be used to form determinants.
</p>




<div id="spadComm9-124" class="spadComm" >
<form id="formComm9-124" action="javascript:makeRequest('9-124');" >
<input id="comm9-124" type="text" class="command" style="width: 36em;" value="contract(epsilon*Tm*epsilon, 1,2) = 2 * determinant m" />
</form>
<span id="commSav9-124" class="commSav" >contract(epsilon*Tm*epsilon, 1,2) = 2 * determinant m</span>
<div id="mathAns9-124" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>-</mo><mn>6</mn><mo>=</mo><mo>-</mo><mn>6</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Equation CartesianTensor(1,2,Integer)
</div>





</div>

<a name="subsec-7.8"/>
<div class="subsection" id="subsec-7.8">
<h3 class="subsectitle">7.8 Properties of the CartesianTensor domain</h3>



<p><span class="teletype">GradedModule(R,E)</span> denotes <span class="italic"><span class="teletype">E</span>-graded <span class="teletype">R</span>-module</span>,
that is, a collection of <span class="teletype">R</span>-modules indexed by an abelian monoid
<span class="teletype">E.</span>  An element <span class="teletype">g</span> of <span class="teletype">G[s]</span> for some specific <span class="teletype">s</span>
in <span class="teletype">E</span> is said to be an element of <span class="teletype">G</span> with
<span class="spadfunFrom" >degree</span><span class="index">degree</span><a name="chapter-9-37"/><span class="index">GradedModule</span><a name="chapter-9-38"/> <span class="teletype">s</span>.  Sums are defined in each
module <span class="teletype">G[s]</span> so two elements of <span class="teletype">G</span> can be added if they have
the same degree.  Morphisms can be defined and composed by degree to
give the mathematical category of graded modules.
</p>


<p><span class="teletype">GradedAlgebra(R,E)</span> denotes <span class="italic"><span class="teletype">E</span>-graded <span class="teletype">R</span>-algebra.</span>
A graded algebra is a graded module together with a degree preserving
<span class="teletype">R</span>-bilinear map, called the <span class="spadfunFrom" >product</span><span class="index">product</span><a name="chapter-9-39"/><span class="index">GradedAlgebra</span><a name="chapter-9-40"/>.
</p>




<div class="verbatim"><br />
degree(product(a,b))&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;degree(a)&nbsp;+&nbsp;degree(b)<br />
<br />
product(r*a,b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;product(a,r*b)&nbsp;=&nbsp;r*product(a,b)<br />
product(a1+a2,b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;product(a1,b)&nbsp;+&nbsp;product(a2,b)<br />
product(a,b1+b2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;product(a,b1)&nbsp;+&nbsp;product(a,b2)<br />
product(a,product(b,c))&nbsp;=&nbsp;product(product(a,b),c)<br />
</div>



<p>The domain <span class="teletype">CartesianTensor(i0, dim, R)</span> belongs to the category
<span class="teletype">GradedAlgebra(R, NonNegativeInteger)</span>.  The non-negative integer
<span class="spadfunFrom" >degree</span><span class="index">degree</span><a name="chapter-9-41"/><span class="index">GradedAlgebra</span><a name="chapter-9-42"/> is the tensor rank and the graded
algebra <span class="spadfunFrom" >product</span><span class="index">product</span><a name="chapter-9-43"/><span class="index">GradedAlgebra</span><a name="chapter-9-44"/> is the tensor outer
product.  The graded module addition captures the notion that only
tensors of equal rank can be added.
</p>


<p>If <span class="teletype">V</span> is a vector space of dimension <span class="teletype">dim</span> over <span class="teletype">R</span>,
then the tensor module <span class="teletype">T[k](V)</span> is defined as
</p>



<div class="verbatim"><br />
T[0](V)&nbsp;=&nbsp;R<br />
T[k](V)&nbsp;=&nbsp;T[k-1](V)&nbsp;*&nbsp;V<br />
</div>


<p>where <span class="teletype">*</span> denotes the <span class="teletype">R</span>-module tensor
<span class="spadfunFrom" >product</span><span class="index">product</span><a name="chapter-9-45"/><span class="index">GradedAlgebra</span><a name="chapter-9-46"/>.  <span class="teletype">CartesianTensor(i0,dim,R)</span>
is the graded algebra in which the degree <span class="teletype">k</span> module is <span class="teletype">T[k](V)</span>.
</p>




</div>

<a name="subsec-7.9"/>
<div class="subsection" id="subsec-7.9">
<h3 class="subsectitle">7.9 Tensor Calculus</h3>



<p>It should be noted here that often tensors are used in the context of
tensor-valued manifold maps.  This leads to the notion of covariant
and contravariant bases with tensor component functions transforming
in specific ways under a change of coordinates on the manifold.  This
is no more directly supported by the <span class="teletype">CartesianTensor</span> domain than
it is by the <span class="teletype">Vector</span> domain.  However, it is possible to have the
components implicitly represent component maps by choosing a
polynomial or expression type for the components.  In this case, it is
up to the user to satisfy any constraints which arise on the basis of
this interpretation.
</p>




</div>

</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-9.6.xhtml" style="margin-right: 10px;">Previous Section 9.6 CardinalNumber</a><a href="section-9.8.xhtml" style="margin-right: 10px;">Next Section 9.8 Character</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>