<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Section9.25</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Section9.25</h1>
</header>
]&gt;
<a href="book-contents.xhtml">Book Contents</a><a href="section-9.24.xhtml">Previous Section 9.24 File</a><a href="section-9.26.xhtml">Next Section 9.26 FlexibleArray</a> <a href="book-index.xhtml">Book Index</a>
<section id="sec-9.25">
<h2 class="sectiontitle" id="filename">9.25 FileName</h2>
<span id="FileNameXmpPage" class="label"></span>
<p>The <span class="teletype">FileName</span> domain provides an interface to the computer's file system. Functions are provided to manipulate file names and to test properties of files. The simplest way to use file names in the FriCAS interpreter is to rely on conversion to and from strings. The syntax of these strings depends on the operating system.</p>
<div id="spadComm9-209" class="spadComm">
<span id="commSav9-209" class="commSav">fn: FileName </span>
<div id="mathAns9-209">

</div>
</div>
<div class="returnType">
Type: Void
</div>
<p>On Linux, this is a proper file syntax:</p>
<div id="spadComm9-210" class="spadComm">
<span id="commSav9-210" class="commSav">fn := "/tmp/fname.input" </span>
<div id="mathAns9-210">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"/tmp/fname.input"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: FileName
</div>
<p>Although it is very convenient to be able to use string notation for file names in the interpreter, it is desirable to have a portable way of creating and manipulating file names from within programs.</p>
<p>A measure of portability is obtained by considering a file name to consist of three parts: the <span class="italic">directory</span>, the <span class="italic">name</span>, and the <span class="italic">extension</span>.</p>
<div id="spadComm9-211" class="spadComm">
<span id="commSav9-211" class="commSav">directory fn </span>
<div id="mathAns9-211">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"/tmp"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<div id="spadComm9-212" class="spadComm">
<span id="commSav9-212" class="commSav">name fn </span>
<div id="mathAns9-212">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"fname"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<div id="spadComm9-213" class="spadComm">
<span id="commSav9-213" class="commSav">extension fn </span>
<div id="mathAns9-213">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"input"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>The meaning of these three parts depends on the operating system. For example, on CMS the file <span class="italic"><span class="teletype">SPADPROF INPUT M</span></span> would have directory <span class="italic"><span class="teletype">M</span></span>, name <span class="italic"><span class="teletype">SPADPROF</span></span> and extension <span class="italic"><span class="teletype">INPUT</span></span>. It is possible to create a filename from its parts.</p>
<div id="spadComm9-214" class="spadComm">
<span id="commSav9-214" class="commSav">fn := filename("/u/smwatt/work", "fname", "input") </span>
<div id="mathAns9-214">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"/u/smwatt/work/fname.input"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: FileName
</div>
<p>When writing programs, it is helpful to refer to directories via variables.</p>
<div id="spadComm9-215" class="spadComm">
<span id="commSav9-215" class="commSav">objdir := "/tmp" </span>
<div id="mathAns9-215">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"/tmp"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<div id="spadComm9-216" class="spadComm">
<span id="commSav9-216" class="commSav">fn := filename(objdir, "table", "spad") </span>
<div id="mathAns9-216">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"/tmp/table.spad"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: FileName
</div>
<p>If the directory or the extension is given as an empty string, then a default is used. On AIX, the defaults are the current directory and no extension.</p>
<div id="spadComm9-217" class="spadComm">
<span id="commSav9-217" class="commSav">fn := filename("", "letter", "") </span>
<div id="mathAns9-217">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"letter"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: FileName
</div>
<p>Three tests provide information about names in the file system.</p>
<p>The <span class="spadfunFrom">exists?</span><span class="index">exists?</span><span id="chapter-9-72"></span><span class="index">FileName</span><span id="chapter-9-73"></span> operation tests whether the named file exists.</p>
<div id="spadComm9-218" class="spadComm">
<span id="commSav9-218" class="commSav">exists? "/etc/passwd"</span>
<div id="mathAns9-218">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>true</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<p>The operation <span class="spadfunFrom">readable?</span><span class="index">readable?</span><span id="chapter-9-74"></span><span class="index">FileName</span><span id="chapter-9-75"></span> tells whether the named file can be read. If the file does not exist, then it cannot be read.</p>
<div id="spadComm9-219" class="spadComm">
<span id="commSav9-219" class="commSav">readable? "/etc/passwd"</span>
<div id="mathAns9-219">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>true</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<div id="spadComm9-220" class="spadComm">
<span id="commSav9-220" class="commSav">readable? "/etc/security/passwd"</span>
<div id="mathAns9-220">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>false</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<div id="spadComm9-221" class="spadComm">
<span id="commSav9-221" class="commSav">readable? "/ect/passwd"</span>
<div id="mathAns9-221">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>false</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<p>Likewise, the operation <span class="spadfunFrom">writable?</span><span class="index">writable?</span><span id="chapter-9-76"></span><span class="index">FileName</span><span id="chapter-9-77"></span> tells whether the named file can be written. If the file does not exist, the test is determined by the properties of the directory.</p>
<div id="spadComm9-222" class="spadComm">
<span id="commSav9-222" class="commSav">writable? "/etc/passwd"</span>
<div id="mathAns9-222">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>false</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<div id="spadComm9-223" class="spadComm">
<span id="commSav9-223" class="commSav">writable? "/dev/null"</span>
<div id="mathAns9-223">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>true</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<div id="spadComm9-224" class="spadComm">
<span id="commSav9-224" class="commSav">writable? "/etc/DoesNotExist"</span>
<div id="mathAns9-224">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>false</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<div id="spadComm9-225" class="spadComm">
<span id="commSav9-225" class="commSav">writable? "/tmp/DoesNotExist"</span>
<div id="mathAns9-225">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>true</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<p>The <span class="spadfunFrom">new</span><span class="index">new</span><span id="chapter-9-78"></span><span class="index">FileName</span><span id="chapter-9-79"></span> operation constructs the name of a new writable file. The argument sequence is the same as for <span class="spadfunFrom">filename</span><span class="index">filename</span><span id="chapter-9-80"></span><span class="index">FileName</span><span id="chapter-9-81"></span>, except that the name part is actually a prefix for a constructed unique name.</p>
<p>The resulting file is in the specified directory with the given extension, and the same defaults are used.</p>
<div id="spadComm9-226" class="spadComm">
<span id="commSav9-226" class="commSav">fn := new(objdir, "xxx", "yy") </span>
<div id="mathAns9-226">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"/tmp/xxx82404.yy"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: FileName
</div>
</section>
<a href="book-contents.xhtml">Book Contents</a> <a href="section-9.24.xhtml">Previous Section 9.24 File</a><a href="section-9.26.xhtml">Next Section 9.26 FlexibleArray</a> <a href="book-index.xhtml">Book Index</a>
</body>
</html>
