<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Section10.4</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Section10.4</h1>
</header>
]&gt;
<a href="book-contents.xhtml">Book Contents</a><a href="section-10.3.xhtml">Previous Section 10.3 Coloring and Positioning Ribbons</a><a href="section-10.5.xhtml">Next Section 10.5 A Bouquet of Arrows</a> <a href="book-index.xhtml">Book Index</a>
<section id="sec-10.4">
<h2 class="sectiontitle" id="points-lines-and-curves">10.4 Points, Lines, and Curves</h2>
<span id="ugIntProgPLC" class="label"></span>
What you have seen so far is a high-level program using the graphics facility. We now turn to the more basic notions of points, lines, and curves in three-dimensional graphs. These facilities use small floats (objects of type <span class="teletype">DoubleFloat</span>) for data. Let us first give names to the small float values
0 and
1.
<p>The small float 0.</p>
<div id="spadComm10-6" class="spadComm">
<span id="commSav10-6" class="commSav">zero := 0.0@DFLOAT </span>
<div id="mathAns10-6">

</div>
</div>
<p>The small float 1.</p>
<div id="spadComm10-7" class="spadComm">
<span id="commSav10-7" class="commSav">one := 1.0@DFLOAT </span>
<div id="mathAns10-7">

</div>
</div>
The <span class="teletype">@</span> sign means <span class="italic">of the type.</span> Thus
zero is
0.0 of the type <span class="teletype">DoubleFloat</span>. You can also say
0.0::DFLOAT.
Points can have four small float components:
x,y,z coordinates and an optional color. A <span class="italic">curve</span> is simply a list of points connected by straight line segments.
Create the point
origin with color zero, that is, the lowest color on the color map.
<div id="spadComm10-8" class="spadComm">
<span id="commSav10-8" class="commSav">origin := point [zero,zero,zero,zero] </span>
<div id="mathAns10-8">

</div>
</div>
Create the point
unit with color zero.
<div id="spadComm10-9" class="spadComm">
<span id="commSav10-9" class="commSav">unit := point [one,one,one,zero] </span>
<div id="mathAns10-9">

</div>
</div>
Create the curve (well, here, a line) from
origin to
unit.
<div id="spadComm10-10" class="spadComm">
<span id="commSav10-10" class="commSav">line := [origin, unit] </span>
<div id="mathAns10-10">

</div>
</div>
We make this line segment into an arrow by adding an arrowhead. The arrowhead extends to, say,
p3 on the left, and to, say,
p4 on the right. To describe an arrow, you tell FriCAS to draw the two curves
[p1,p2,p3] and
[p2,p4]. We also decide through experimentation on values for
arrowScale, the ratio of the size of the arrowhead to the stem of the arrow, and
arrowAngle, the angle between the arrowhead and the arrow.
<p>Invoke your favorite editor and create an input file called <span style="font-weight: bold;"> arrows.input</span>. This input file first defines the values of</p>
arrowAngle and
arrowScale, then defines the function <span style="font-weight: bold;"> makeArrow</span>
(p1,p2) to draw an arrow from point
p1 to
p2.
<div class="verbatim">
<br />
arrowAngle := %pi-%pi/10.0@DFLOAT               The angle of the arrowhead.<br />
arrowScale := 0.2@DFLOAT                        The size of the arrowhead<br />
                                                relative to the stem.<br />
makeArrow(p1, p2) ==<br />
  delta := p2 - p1                              The arrow.<br />
  len := arrowScale * length delta              The length of the arrowhead.<br />
  theta := atan(delta.1, delta.2)               The angle from the x-axis<br />
  c1 := len*cos(theta + arrowAngle)             The x-coord of left endpoint<br />
  s1 := len*sin(theta + arrowAngle)             The y-coord of left endpoint<br />
  c2 := len*cos(theta - arrowAngle)             The x-coord of right endpoint<br />
  s2 := len*sin(theta - arrowAngle)             The y-coord of right endpoint<br />
  z  := p2.3*(1 - arrowScale)                   The z-coord of both endpoints<br />
  p3 := point [p2.1 + c1, p2.2 + s1, z, p2.4]   The left endpoint of head<br />
  p4 := point [p2.1 + c2, p2.2 + s2, z, p2.4]   The right endpoint of head<br />
  [ [p1, p2, p3], [p2, p4] ]                    The arrow as a list of curves<br />

</div>
Read the file and then create an arrow from the point
origin to the point
unit.
<p>Read the input file defining <span style="font-weight: bold;"> makeArrow</span>.</p>
<div id="spadComm10-11" class="spadComm">
<span id="commSav10-11" class="commSav">)read arrows</span>
<div id="mathAns10-11">

</div>
</div>
<p>Construct the arrow (a list of two curves).</p>
<div id="spadComm10-12" class="spadComm">
<span id="commSav10-12" class="commSav">arrow := makeArrow(origin,unit)</span>
<div id="mathAns10-12">

</div>
</div>
Create an empty object
sp of type
ThreeSpace.
<div id="spadComm10-13" class="spadComm">
<span id="commSav10-13" class="commSav">sp := createThreeSpace()</span>
<div id="mathAns10-13">

</div>
</div>
Add each curve of the arrow to the space
sp.
<div id="spadComm10-14" class="spadComm">
<span id="commSav10-14" class="commSav">for a in arrow repeat sp := curve(sp,a)</span>
<div id="mathAns10-14">

</div>
</div>
<p>Create a three-dimensional viewport containing that space.</p>
<div class="spadgraph" style="width: 16em">
vp := makeViewport3D(sp,"Arrow")
</div>
<div class="image">
<img src="ps/arrow.png" alt="picture" />
</div>
<p>Here is a better viewing angle.</p>
<div id="spadComm10-15" class="spadComm">
<span id="commSav10-15" class="commSav">rotate(vp,200,-60)</span>
<div id="mathAns10-15">

</div>
</div>
<div class="image">
<img src="ps/arrowr.png" alt="picture" />
</div>
</section>
<a href="book-contents.xhtml">Book Contents</a> <a href="section-10.3.xhtml">Previous Section 10.3 Coloring and Positioning Ribbons</a><a href="section-10.5.xhtml">Next Section 10.5 A Bouquet of Arrows</a> <a href="book-index.xhtml">Book Index</a>
</body>
</html>
