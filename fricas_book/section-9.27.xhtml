<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section9.27</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.26.xhtml" style="margin-right: 10px;">Previous Section 9.26  FlexibleArray</a><a href="section-9.28.xhtml" style="margin-right: 10px;">Next Section 9.28 Fraction</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-9.27">
<h2 class="sectiontitle">9.27  Float</h2>


<a name="FloatXmpPage" class="label"/>


<p>FriCAS provides two kinds of floating point numbers.  The domain 
<span class="teletype">Float</span> (abbreviation <span class="teletype">FLOAT</span>) implements a model of arbitrary
precision floating point numbers.  The domain <span class="teletype">DoubleFloat</span>
(abbreviation <span class="teletype">DFLOAT</span>) is intended to make available hardware
floating point arithmetic in FriCAS.  The actual model of floating
point that <span class="teletype">DoubleFloat</span> provides is system-dependent.  For
example, on the IBM system 370 FriCAS uses IBM double precision which
has fourteen hexadecimal digits of precision or roughly sixteen
decimal digits.  Arbitrary precision floats allow the user to specify
the precision at which arithmetic operations are computed.  Although
this is an attractive facility, it comes at a cost.
Arbitrary-precision floating-point arithmetic typically takes twenty
to two hundred times more time than hardware floating point.
</p>


<p>For more information about FriCAS's numeric and graphic facilities, see
<a href="ugGraphPage" class="ref" >ugGraphPage</a>  in Section 
<a href="ugGraphNumber" class="ref" >ugGraphNumber</a> ,
<a href="section-8.1.xhtml#ugProblemNumeric" class="ref" >ugProblemNumeric</a> , and 
<a href="section-9.17.xhtml#DoubleFloatXmpPage" class="ref" >DoubleFloatXmpPage</a> .
</p>



<a name="subsec-9.27.1"/>
<div class="subsection"  id="subsec-9.27.1">
<h3 class="subsectitle">9.27.1  Introduction to Float</h3>



<p>Scientific notation is supported for input and output of floating
point numbers.  A floating point number is written as a string of
digits containing a decimal point optionally followed by the letter
<span class="italic"><span class="teletype">E</span></span>, and then the exponent.
</p>


<p>We begin by doing some calculations using arbitrary precision floats.
The default precision is twenty decimal digits.
</p>




<div id="spadComm9-1" class="spadComm" >
<form id="formComm9-1" action="javascript:makeRequest('9-1');" >
<input id="comm9-1" type="text" class="command" style="width: 4em;" value="1.234" />
</form>
<span id="commSav9-1" class="commSav" >1.234</span>
<div id="mathAns9-1" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>1</mn><mo>.</mo><mn>234</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>A decimal base for the exponent is assumed, so the number 
<span class="teletype">1.234E2</span> denotes  <math xmlns="&mathml;" mathsize="big"><mstyle></mstyle></math>.
</p>




<div id="spadComm9-2" class="spadComm" >
<form id="formComm9-2" action="javascript:makeRequest('9-2');" >
<input id="comm9-2" type="text" class="command" style="width: 5em;" value="1.234E2" />
</form>
<span id="commSav9-2" class="commSav" >1.234E2</span>
<div id="mathAns9-2" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>123</mn><mo>.</mo><mn>4</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>The normal arithmetic operations are available for floating point numbers.
</p>




<div id="spadComm9-3" class="spadComm" >
<form id="formComm9-3" action="javascript:makeRequest('9-3');" >
<input id="comm9-3" type="text" class="command" style="width: 19em;" value="sqrt(1.2 + 2.3 / 3.4 ^ 4.5)" />
</form>
<span id="commSav9-3" class="commSav" >sqrt(1.2 + 2.3 / 3.4 ^ 4.5)</span>
<div id="mathAns9-3" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>1</mn><mo>.</mo><mn>0996972790</mn><mspace width="0.5 em" /><mn>671286226</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





</div>



<a name="subsec-9.27.2"/>
<div class="subsection"  id="subsec-9.27.2">
<h3 class="subsectitle">9.27.2  Conversion Functions</h3>



<p>You can use conversion (<a href="ugTypesConvertPage" class="ref" >ugTypesConvertPage</a>  in Section
<a href="ugTypesConvertNumber" class="ref" >ugTypesConvertNumber</a> ) to
go back and forth between <span class="teletype">Integer</span>, <span class="teletype">Fraction Integer</span> and
<span class="teletype">Float</span>, as appropriate.
</p>




<div id="spadComm9-4" class="spadComm" >
<form id="formComm9-4" action="javascript:makeRequest('9-4');" >
<input id="comm9-4" type="text" class="command" style="width: 11em;" value="i := 3 :: Float " />
</form>
<span id="commSav9-4" class="commSav" >i := 3 :: Float </span>
<div id="mathAns9-4" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>3</mn><mo>.</mo><mn>0</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-5" class="spadComm" >
<form id="formComm9-5" action="javascript:makeRequest('9-5');" >
<input id="comm9-5" type="text" class="command" style="width: 9em;" value="i :: Integer " />
</form>
<span id="commSav9-5" class="commSav" >i :: Integer </span>
<div id="mathAns9-5" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>3</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Integer
</div>





<div id="spadComm9-6" class="spadComm" >
<form id="formComm9-6" action="javascript:makeRequest('9-6');" >
<input id="comm9-6" type="text" class="command" style="width: 15em;" value="i :: Fraction Integer " />
</form>
<span id="commSav9-6" class="commSav" >i :: Fraction Integer </span>
<div id="mathAns9-6" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>3</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Fraction Integer
</div>



<p>Since you are explicitly asking for a conversion, you must take
responsibility for any loss of exactness.
</p>




<div id="spadComm9-7" class="spadComm" >
<form id="formComm9-7" action="javascript:makeRequest('9-7');" >
<input id="comm9-7" type="text" class="command" style="width: 12em;" value="r := 3/7 :: Float " />
</form>
<span id="commSav9-7" class="commSav" >r := 3/7 :: Float </span>
<div id="mathAns9-7" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>4285714285</mn><mspace width="0.5 em" /><mn>7142857143</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-8" class="spadComm" >
<form id="formComm9-8" action="javascript:makeRequest('9-8');" >
<input id="comm9-8" type="text" class="command" style="width: 15em;" value="r :: Fraction Integer " />
</form>
<span id="commSav9-8" class="commSav" >r :: Fraction Integer </span>
<div id="mathAns9-8" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mfrac><mn>3</mn><mn>7</mn></mfrac></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Fraction Integer
</div>



<p>This conversion cannot be performed: use <span class="spadfunFrom" >truncate</span><span class="index">truncate</span><a name="chapter-9-0"/><span class="index">Float</span><a name="chapter-9-1"/>
or <span class="spadfunFrom" >round</span><span class="index">round</span><a name="chapter-9-2"/><span class="index">Float</span><a name="chapter-9-3"/> if that is what you intend.
</p>




<div id="spadComm9-9" class="spadComm" >
<form id="formComm9-9" action="javascript:makeRequest('9-9');" >
<input id="comm9-9" type="text" class="command" style="width: 9em;" value="r :: Integer " />
</form>
<span id="commSav9-9" class="commSav" >r :: Integer </span>
<div id="mathAns9-9" ></div>
</div>




<div class="verbatim"><br />
&nbsp;&nbsp;&nbsp;Cannot&nbsp;convert&nbsp;from&nbsp;type&nbsp;Float&nbsp;to&nbsp;Integer&nbsp;for&nbsp;value<br />
&nbsp;&nbsp;&nbsp;0.4285714285&nbsp;7142857143<br />
</div>



<p>The operations <span class="spadfunFrom" >truncate</span><span class="index">truncate</span><a name="chapter-9-4"/><span class="index">Float</span><a name="chapter-9-5"/> and <span class="spadfunFrom" >round</span><span class="index">round</span><a name="chapter-9-6"/><span class="index">Float</span><a name="chapter-9-7"/>
truncate  ...
</p>




<div id="spadComm9-10" class="spadComm" >
<form id="formComm9-10" action="javascript:makeRequest('9-10');" >
<input id="comm9-10" type="text" class="command" style="width: 8em;" value="truncate 3.6" />
</form>
<span id="commSav9-10" class="commSav" >truncate 3.6</span>
<div id="mathAns9-10" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>3</mn><mo>.</mo><mn>0</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>and round to the nearest integral <span class="teletype">Float</span> respectively.
</p>




<div id="spadComm9-11" class="spadComm" >
<form id="formComm9-11" action="javascript:makeRequest('9-11');" >
<input id="comm9-11" type="text" class="command" style="width: 6em;" value="round 3.6" />
</form>
<span id="commSav9-11" class="commSav" >round 3.6</span>
<div id="mathAns9-11" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>4</mn><mo>.</mo><mn>0</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-12" class="spadComm" >
<form id="formComm9-12" action="javascript:makeRequest('9-12');" >
<input id="comm9-12" type="text" class="command" style="width: 10em;" value="truncate(-3.6)" />
</form>
<span id="commSav9-12" class="commSav" >truncate(-3.6)</span>
<div id="mathAns9-12" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>-</mo><mrow><mn>3</mn><mo>.</mo><mn>0</mn></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-13" class="spadComm" >
<form id="formComm9-13" action="javascript:makeRequest('9-13');" >
<input id="comm9-13" type="text" class="command" style="width: 8em;" value="round(-3.6)" />
</form>
<span id="commSav9-13" class="commSav" >round(-3.6)</span>
<div id="mathAns9-13" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>-</mo><mrow><mn>4</mn><mo>.</mo><mn>0</mn></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>The operation <span class="spadfunFrom" >fractionPart</span><span class="index">fractionPart</span><a name="chapter-9-8"/><span class="index">Float</span><a name="chapter-9-9"/> computes the
fractional part of <span class="teletype">x</span>, that is, <span class="teletype">x - truncate x</span>.
</p>




<div id="spadComm9-14" class="spadComm" >
<form id="formComm9-14" action="javascript:makeRequest('9-14');" >
<input id="comm9-14" type="text" class="command" style="width: 11em;" value="fractionPart 3.6" />
</form>
<span id="commSav9-14" class="commSav" >fractionPart 3.6</span>
<div id="mathAns9-14" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>6</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>The operation <span class="spadfunFrom" >digits</span><span class="index">digits</span><a name="chapter-9-10"/><span class="index">Float</span><a name="chapter-9-11"/> allows the user to set the
precision.  It returns the previous value it was using.
</p>




<div id="spadComm9-15" class="spadComm" >
<form id="formComm9-15" action="javascript:makeRequest('9-15');" >
<input id="comm9-15" type="text" class="command" style="width: 7em;" value="digits 40 " />
</form>
<span id="commSav9-15" class="commSav" >digits 40 </span>
<div id="mathAns9-15" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>20</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-16" class="spadComm" >
<form id="formComm9-16" action="javascript:makeRequest('9-16');" >
<input id="comm9-16" type="text" class="command" style="width: 6em;" value="sqrt 0.2" />
</form>
<span id="commSav9-16" class="commSav" >sqrt 0.2</span>
<div id="mathAns9-16" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>4472135954</mn><mspace width="0.5 em" /><mn>9995793928</mn><mspace width="0.5 em" /><mn>1834733746</mn><mspace width="0.5 em" /><mn>2552470881</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-17" class="spadComm" >
<form id="formComm9-17" action="javascript:makeRequest('9-17');" >
<input id="comm9-17" type="text" class="command" style="width: 8em;" value="pi()$Float " />
</form>
<span id="commSav9-17" class="commSav" >pi()$Float </span>
<div id="mathAns9-17" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>3</mn><mo>.</mo><mn>1415926535</mn><mspace width="0.5 em" /><mn>8979323846</mn><mspace width="0.5 em" /><mn>2643383279</mn><mspace width="0.5 em" /><mn>502884197</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>The precision is only limited by the computer memory available.
Calculations at 500 or more digits of precision are not difficult.
</p>




<div id="spadComm9-18" class="spadComm" >
<form id="formComm9-18" action="javascript:makeRequest('9-18');" >
<input id="comm9-18" type="text" class="command" style="width: 8em;" value="digits 500 " />
</form>
<span id="commSav9-18" class="commSav" >digits 500 </span>
<div id="mathAns9-18" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>40</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-19" class="spadComm" >
<form id="formComm9-19" action="javascript:makeRequest('9-19');" >
<input id="comm9-19" type="text" class="command" style="width: 8em;" value="pi()$Float " />
</form>
<span id="commSav9-19" class="commSav" >pi()$Float </span>
<div id="mathAns9-19" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtable><mtr><mtd><mn>3</mn><mo>.</mo><mn>1415926535</mn><mspace width="0.5 em" /><mn>8979323846</mn><mspace width="0.5 em" /><mn>2643383279</mn><mspace width="0.5 em" /><mn>5028841971</mn><mspace width="0.5 em" /><mn>6939937510</mn><mspace width="0.5 em" /><mn>5820974944</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>5923078164</mn><mspace width="0.5 em" /><mn>0628620899</mn><mspace width="0.5 em" /><mn>8628034825</mn><mspace width="0.5 em" /><mn>3421170679</mn><mspace width="0.5 em" /><mn>8214808651</mn><mspace width="0.5 em" /><mn>3282306647</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>0938446095</mn><mspace width="0.5 em" /><mn>5058223172</mn><mspace width="0.5 em" /><mn>5359408128</mn><mspace width="0.5 em" /><mn>4811174502</mn><mspace width="0.5 em" /><mn>8410270193</mn><mspace width="0.5 em" /><mn>8521105559</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>6446229489</mn><mspace width="0.5 em" /><mn>5493038196</mn><mspace width="0.5 em" /><mn>4428810975</mn><mspace width="0.5 em" /><mn>6659334461</mn><mspace width="0.5 em" /><mn>2847564823</mn><mspace width="0.5 em" /><mn>3786783165</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>2712019091</mn><mspace width="0.5 em" /><mn>4564856692</mn><mspace width="0.5 em" /><mn>3460348610</mn><mspace width="0.5 em" /><mn>4543266482</mn><mspace width="0.5 em" /><mn>1339360726</mn><mspace width="0.5 em" /><mn>0249141273</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>7245870066</mn><mspace width="0.5 em" /><mn>0631558817</mn><mspace width="0.5 em" /><mn>4881520920</mn><mspace width="0.5 em" /><mn>9628292540</mn><mspace width="0.5 em" /><mn>9171536436</mn><mspace width="0.5 em" /><mn>7892590360</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>0113305305</mn><mspace width="0.5 em" /><mn>4882046652</mn><mspace width="0.5 em" /><mn>1384146951</mn><mspace width="0.5 em" /><mn>9415116094</mn><mspace width="0.5 em" /><mn>3305727036</mn><mspace width="0.5 em" /><mn>5759591953</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>0921861173</mn><mspace width="0.5 em" /><mn>8193261179</mn><mspace width="0.5 em" /><mn>3105118548</mn><mspace width="0.5 em" /><mn>0744623799</mn><mspace width="0.5 em" /><mn>6274956735</mn><mspace width="0.5 em" /><mn>1885752724</mn></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mn>8912279381</mn><mspace width="0.5 em" /><mn>830119491</mn></mtd></mtr></mtable></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>Reset <span class="spadfunFrom" >digits</span><span class="index">digits</span><a name="chapter-9-12"/><span class="index">Float</span><a name="chapter-9-13"/> to its default value.
</p>




<div id="spadComm9-20" class="spadComm" >
<form id="formComm9-20" action="javascript:makeRequest('9-20');" >
<input id="comm9-20" type="text" class="command" style="width: 6em;" value="digits 20" />
</form>
<span id="commSav9-20" class="commSav" >digits 20</span>
<div id="mathAns9-20" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>500</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>



<p>Numbers of type <span class="teletype">Float</span> are represented as a record of two
integers, namely, the mantissa and the exponent where the base of the
exponent is binary.  That is, the floating point number <span class="teletype">(m,e)</span>
represents the number  <math xmlns="&mathml;" mathsize="big"><mstyle></mstyle></math>.  A consequence of using a binary
base is that decimal numbers can not, in general, be represented
exactly.
</p>




</div>



<a name="subsec-9.27.3"/>
<div class="subsection"  id="subsec-9.27.3">
<h3 class="subsectitle">9.27.3  Output Functions</h3>



<p>A number of operations exist for specifying how numbers of type 
<span class="teletype">Float</span> are to be displayed.  By default, spaces are inserted every ten
digits in the output for readability.<span class="footnote">Note that you cannot
include spaces in the input form of a floating point number, though
you can use underscores.</span>
</p>


<p>Output spacing can be modified with the <span class="spadfunFrom" >outputSpacing</span><span class="index">outputSpacing</span><a name="chapter-9-14"/><span class="index">Float</span><a name="chapter-9-15"/> 
operation.  This inserts no spaces and then displays the value of <span class="teletype">x</span>.
</p>




<div id="spadComm9-21" class="spadComm" >
<form id="formComm9-21" action="javascript:makeRequest('9-21');" >
<input id="comm9-21" type="text" class="command" style="width: 21em;" value="outputSpacing 0; x := sqrt 0.2 " />
</form>
<span id="commSav9-21" class="commSav" >outputSpacing 0; x := sqrt 0.2 </span>
<div id="mathAns9-21" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>44721359549995793928</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>Issue this to have the spaces inserted every <span class="teletype">5</span> digits.
</p>




<div id="spadComm9-22" class="spadComm" >
<form id="formComm9-22" action="javascript:makeRequest('9-22');" >
<input id="comm9-22" type="text" class="command" style="width: 13em;" value="outputSpacing 5; x " />
</form>
<span id="commSav9-22" class="commSav" >outputSpacing 5; x </span>
<div id="mathAns9-22" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>44721</mn><mspace width="0.5 em" /><mn>35954</mn><mspace width="0.5 em" /><mn>99957</mn><mspace width="0.5 em" /><mn>93928</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>By default, the system displays floats in either fixed format
or scientific format, depending on the magnitude of the number.
</p>




<div id="spadComm9-23" class="spadComm" >
<form id="formComm9-23" action="javascript:makeRequest('9-23');" >
<input id="comm9-23" type="text" class="command" style="width: 10em;" value="y := x/10^10 " />
</form>
<span id="commSav9-23" class="commSav" >y := x/10^10 </span>
<div id="mathAns9-23" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>44721</mn><mspace width="0.5 em" /><mn>35954</mn><mspace width="0.5 em" /><mn>99957</mn><mspace width="0.5 em" /><mn>93928</mn><mspace width="0.5 em" /><mrow><mtext>E&nbsp;</mtext></mrow><mo>-</mo><mn>10</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>A particular format may be requested with the operations
<span class="spadfunFrom" >outputFloating</span><span class="index">outputFloating</span><a name="chapter-9-16"/><span class="index">Float</span><a name="chapter-9-17"/> and <span class="spadfunFrom" >outputFixed</span><span class="index">outputFixed</span><a name="chapter-9-18"/><span class="index">Float</span><a name="chapter-9-19"/>.
</p>




<div id="spadComm9-24" class="spadComm" >
<form id="formComm9-24" action="javascript:makeRequest('9-24');" >
<input id="comm9-24" type="text" class="command" style="width: 14em;" value="outputFloating(); x  " />
</form>
<span id="commSav9-24" class="commSav" >outputFloating(); x  </span>
<div id="mathAns9-24" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>44721</mn><mspace width="0.5 em" /><mn>35954</mn><mspace width="0.5 em" /><mn>99957</mn><mspace width="0.5 em" /><mn>93928</mn><mspace width="0.5 em" /><mrow><mtext>E&nbsp;</mtext></mrow><mn>0</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-25" class="spadComm" >
<form id="formComm9-25" action="javascript:makeRequest('9-25');" >
<input id="comm9-25" type="text" class="command" style="width: 12em;" value="outputFixed(); y  " />
</form>
<span id="commSav9-25" class="commSav" >outputFixed(); y  </span>
<div id="mathAns9-25" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>00000</mn><mspace width="0.5 em" /><mn>00000</mn><mspace width="0.5 em" /><mn>44721</mn><mspace width="0.5 em" /><mn>35954</mn><mspace width="0.5 em" /><mn>99957</mn><mspace width="0.5 em" /><mn>93928</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>Additionally, you can ask for <span class="teletype">n</span> digits to be displayed after the
decimal point.
</p>




<div id="spadComm9-26" class="spadComm" >
<form id="formComm9-26" action="javascript:makeRequest('9-26');" >
<input id="comm9-26" type="text" class="command" style="width: 14em;" value="outputFloating 2; y  " />
</form>
<span id="commSav9-26" class="commSav" >outputFloating 2; y  </span>
<div id="mathAns9-26" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>45</mn><mspace width="0.5 em" /><mrow><mtext>E&nbsp;</mtext></mrow><mo>-</mo><mn>10</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>





<div id="spadComm9-27" class="spadComm" >
<form id="formComm9-27" action="javascript:makeRequest('9-27');" >
<input id="comm9-27" type="text" class="command" style="width: 12em;" value="outputFixed 2; x  " />
</form>
<span id="commSav9-27" class="commSav" >outputFixed 2; x  </span>
<div id="mathAns9-27" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>45</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>This resets the output printing to the default behavior.
</p>




<div id="spadComm9-28" class="spadComm" >
<form id="formComm9-28" action="javascript:makeRequest('9-28');" >
<input id="comm9-28" type="text" class="command" style="width: 10em;" value="outputGeneral()" />
</form>
<span id="commSav9-28" class="commSav" >outputGeneral()</span>
<div id="mathAns9-28" ></div>
</div>




<div class="returnType">
Type: Void
</div>





</div>



<a name="subsec-9.27.4"/>
<div class="subsection"  id="subsec-9.27.4">
<h3 class="subsectitle">9.27.4  An Example: Determinant of a Hilbert Matrix</h3>



<p>Consider the problem of computing the determinant of a <span class="teletype">10</span> by
<span class="teletype">10</span> Hilbert matrix.  The  <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><mo>(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo>)</mo></mrow></mstyle></math>-th entry of a Hilbert
matrix is given by <span class="teletype">1/(i+j+1)</span>.
</p>


<p>First do the computation using rational numbers to obtain the
exact result.
</p>




<div id="spadComm9-29" class="spadComm" >
<form id="formComm9-29" action="javascript:makeRequest('9-29');" >
<input id="comm9-29" type="text" class="command" style="width: 54em;" value="a: Matrix Fraction Integer := matrix [ [1/(i+j+1) for j in 0..9] for i in 0..9] " />
</form>
<span id="commSav9-29" class="commSav" >a: Matrix Fraction Integer := matrix [ [1/(i+j+1) for j in 0..9] for i in 0..9] </span>
<div id="mathAns9-29" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>[</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>3</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>4</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>5</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>6</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>3</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>4</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>5</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>6</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>3</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>4</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>5</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>6</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>4</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>5</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>6</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>5</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>6</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>14</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>6</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>14</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>15</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>7</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>14</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>15</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>16</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>8</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>14</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>15</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>16</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>17</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>9</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>14</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>15</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>16</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>17</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>18</mn></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><mn>10</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>11</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>12</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>13</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>14</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>15</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>16</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>17</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>18</mn></mfrac></mtd><mtd><mfrac><mn>1</mn><mn>19</mn></mfrac></mtd></mtr></mtable><mo>]</mo></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Matrix Fraction Integer
</div>



<p>This version of <span class="spadfunFrom" >determinant</span><span class="index">determinant</span><a name="chapter-9-20"/><span class="index">Matrix</span><a name="chapter-9-21"/> uses Gaussian elimination.
</p>




<div id="spadComm9-30" class="spadComm" >
<form id="formComm9-30" action="javascript:makeRequest('9-30');" >
<input id="comm9-30" type="text" class="command" style="width: 12em;" value="d:= determinant a " />
</form>
<span id="commSav9-30" class="commSav" >d:= determinant a </span>
<div id="mathAns9-30" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mfrac><mn>1</mn><mn>46206893947914691316295628839036278726983680000000000</mn></mfrac></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Fraction Integer
</div>





<div id="spadComm9-31" class="spadComm" >
<form id="formComm9-31" action="javascript:makeRequest('9-31');" >
<input id="comm9-31" type="text" class="command" style="width: 8em;" value="d :: Float " />
</form>
<span id="commSav9-31" class="commSav" >d :: Float </span>
<div id="mathAns9-31" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>21641</mn><mspace width="0.5 em" /><mn>79226</mn><mspace width="0.5 em" /><mn>43149</mn><mspace width="0.5 em" /><mn>18691</mn><mspace width="0.5 em" /><mrow><mtext>E&nbsp;</mtext></mrow><mo>-</mo><mn>52</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>Now use hardware floats. Note that a semicolon (;) is used to prevent
the display of the matrix.
</p>




<div id="spadComm9-32" class="spadComm" >
<form id="formComm9-32" action="javascript:makeRequest('9-32');" >
<input id="comm9-32" type="text" class="command" style="width: 59em;" value="b: Matrix DoubleFloat := matrix [ [1/(i+j+1$DoubleFloat) for j in 0..9] for i in 0..9]; " />
</form>
<span id="commSav9-32" class="commSav" >b: Matrix DoubleFloat := matrix [ [1/(i+j+1$DoubleFloat) for j in 0..9] for i in 0..9]; </span>
<div id="mathAns9-32" ></div>
</div>




<div class="returnType">
Type: Matrix DoubleFloat
</div>



<p>The result given by hardware floats is correct only to four
significant digits of precision.  In the jargon of numerical analysis,
the Hilbert matrix is said to be <span class="italic">ill-conditioned.</span>
</p>




<div id="spadComm9-33" class="spadComm" >
<form id="formComm9-33" action="javascript:makeRequest('9-33');" >
<input id="comm9-33" type="text" class="command" style="width: 10em;" value="determinant b " />
</form>
<span id="commSav9-33" class="commSav" >determinant b </span>
<div id="mathAns9-33" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>2</mn><mo>.</mo><mn>1643677945721411</mn><mi>e</mi><mo>-</mo><mn>53</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>



<p>Now repeat the computation at a higher precision using <span class="teletype">Float</span>.
</p>




<div id="spadComm9-34" class="spadComm" >
<form id="formComm9-34" action="javascript:makeRequest('9-34');" >
<input id="comm9-34" type="text" class="command" style="width: 7em;" value="digits 40 " />
</form>
<span id="commSav9-34" class="commSav" >digits 40 </span>
<div id="mathAns9-34" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>20</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-35" class="spadComm" >
<form id="formComm9-35" action="javascript:makeRequest('9-35');" >
<input id="comm9-35" type="text" class="command" style="width: 52em;" value="c: Matrix Float := matrix [ [1/(i+j+1$Float) for j in 0..9] for i in 0..9];  " />
</form>
<span id="commSav9-35" class="commSav" >c: Matrix Float := matrix [ [1/(i+j+1$Float) for j in 0..9] for i in 0..9];  </span>
<div id="mathAns9-35" ></div>
</div>




<div class="returnType">
Type: Matrix Float
</div>





<div id="spadComm9-36" class="spadComm" >
<form id="formComm9-36" action="javascript:makeRequest('9-36');" >
<input id="comm9-36" type="text" class="command" style="width: 10em;" value="determinant c " />
</form>
<span id="commSav9-36" class="commSav" >determinant c </span>
<div id="mathAns9-36" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>0</mn><mo>.</mo><mn>21641</mn><mspace width="0.5 em" /><mn>79226</mn><mspace width="0.5 em" /><mn>43149</mn><mspace width="0.5 em" /><mn>18690</mn><mspace width="0.5 em" /><mn>60594</mn><mspace width="0.5 em" /><mn>98362</mn><mspace width="0.5 em" /><mn>26174</mn><mspace width="0.5 em" /><mn>36159</mn><mspace width="0.5 em" /><mrow><mtext>E&nbsp;</mtext></mrow><mo>-</mo><mn>52</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>Reset <span class="spadfunFrom" >digits</span><span class="index">digits</span><a name="chapter-9-22"/><span class="index">Float</span><a name="chapter-9-23"/> to its default value.
</p>




<div id="spadComm9-37" class="spadComm" >
<form id="formComm9-37" action="javascript:makeRequest('9-37');" >
<input id="comm9-37" type="text" class="command" style="width: 6em;" value="digits 20" />
</form>
<span id="commSav9-37" class="commSav" >digits 20</span>
<div id="mathAns9-37" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>40</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





</div>




</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.26.xhtml" style="margin-right: 10px;">Previous Section 9.26  FlexibleArray</a><a href="section-9.28.xhtml" style="margin-right: 10px;">Next Section 9.28 Fraction</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>