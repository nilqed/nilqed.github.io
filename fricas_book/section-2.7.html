<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Section2.7</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Section2.7</h1>
</header>
]&gt;
<a href="book-contents.xhtml">Book Contents</a><a href="section-2.6.xhtml">Previous Section 2.6 The <span class="italic">Any</span> Domain</a><a href="section-2.8.xhtml">Next Section 2.8 Subdomains Again</a> <a href="book-index.xhtml">Book Index</a>
<section id="sec-2.7">
<h2 class="sectiontitle" id="conversion">2.7 Conversion</h2>
<span id="ugTypesConvert" class="label"></span>
<div class="boxed2">
<div class="boxed">
Conversion is the process of changing an object of one type into an object of another type. The syntax for conversion is:
object::newType
</div>
</div>
By default,
3 has the type <span class="teletype">PositiveInteger</span>.
<div id="spadComm2-86" class="spadComm">
<span id="commSav2-86" class="commSav">3</span>
<div id="mathAns2-86">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>3</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: PositiveInteger
</div>
<p>We can change this into an object of type <span class="teletype">Fraction Integer</span> by using ``<span class="teletype">::</span>''.</p>
<div id="spadComm2-87" class="spadComm">
<span id="commSav2-87" class="commSav">3 :: Fraction Integer</span>
<div id="mathAns2-87">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>3</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Fraction Integer
</div>
<p>A <span class="italic">coercion</span> is a special kind of conversion that FriCAS is allowed to do automatically when you enter an expression. Coercions are usually somewhat safer than more general conversions. The FriCAS library contains operations called <span style="font-weight: bold;"> coerce</span> and <span style="font-weight: bold;"> convert</span>. Only the <span style="font-weight: bold;"> coerce</span> operations can be used by the interpreter to change an object into an object of another type unless you explicitly use a <span class="teletype">::</span>.</p>
<p>By now you will be quite familiar with what types and modes look like. It is useful to think of a type or mode as a pattern for what you want the result to be.</p>
<p>Let's start with a square matrix of polynomials with complex rational number coefficients. <span class="index">SquareMatrix</span><span id="chapter-2-48"></span></p>
<div id="spadComm2-88" class="spadComm">
<span id="commSav2-88" class="commSav">m : SquareMatrix(2,POLY COMPLEX FRAC INT)</span>
<div id="mathAns2-88">

</div>
</div>
<div class="returnType">
Type: Void
</div>
<div id="spadComm2-89" class="spadComm">
<span id="commSav2-89" class="commSav">m := matrix [ [x-3/4*%i,z*y^2+1/2],[3/7*%i*y^4 - x,12-%i*9/5] ]</span>
<div id="mathAns2-89">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[x-34iy2z+1237iy4-x12-95i]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: SquareMatrix(2,Polynomial Complex Fraction Integer)
</div>
<p>We first want to interchange the <span class="teletype">Complex</span> and <span class="teletype">Fraction</span> layers. We do the conversion by doing the interchange in the type expression.</p>
<div id="spadComm2-90" class="spadComm">
<span id="commSav2-90" class="commSav">m1 := m :: SquareMatrix(2,POLY FRAC COMPLEX INT)</span>
<div id="mathAns2-90">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[x-3i4y2z+123i7y4-x60-9i5]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: SquareMatrix(2,Polynomial Fraction Complex Integer)
</div>
<p>Interchange the <span class="teletype">Polynomial</span> and the <span class="teletype">Fraction</span> levels.</p>
<div id="spadComm2-91" class="spadComm">
<span id="commSav2-91" class="commSav">m2 := m1 :: SquareMatrix(2,FRAC POLY COMPLEX INT)</span>
<div id="mathAns2-91">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[4x-3i42y2z+123iy4-7x760-9i5]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: SquareMatrix(2,Fraction Polynomial Complex Integer)
</div>
<p>Interchange the <span class="teletype">Polynomial</span> and the <span class="teletype">Complex</span> levels.</p>
<div id="spadComm2-92" class="spadComm">
<span id="commSav2-92" class="commSav">m3 := m2 :: SquareMatrix(2,FRAC COMPLEX POLY INT)</span>
<div id="mathAns2-92">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[4x-3i42y2z+12-7x+3y4i760-9i5]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: SquareMatrix(2,Fraction Complex Polynomial Integer)
</div>
<p>All the entries have changed types, although in comparing the last two results only the entry in the lower left corner looks different. We did all the intermediate steps to show you what FriCAS can do.</p>
<p>In fact, we could have combined all these into one conversion.</p>
<div id="spadComm2-93" class="spadComm">
<span id="commSav2-93" class="commSav">m :: SquareMatrix(2,FRAC COMPLEX POLY INT)</span>
<div id="mathAns2-93">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[4x-3i42y2z+12-7x+3y4i760-9i5]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: SquareMatrix(2,Fraction Complex Polynomial Integer)
</div>
<p>There are times when FriCAS is not be able to do the conversion in one step. You may need to break up the transformation into several conversions in order to get an object of the desired type.</p>
<p>We cannot move either <span class="teletype">Fraction</span> or <span class="teletype">Complex</span> above (or to the left of, depending on how you look at it) <span class="teletype">SquareMatrix</span> because each of these levels requires that its argument type have commutative multiplication, whereas <span class="teletype">SquareMatrix</span> does not. That is because <span class="teletype">Fraction</span> requires that its argument belong to the category <span class="teletype">IntegralDomain</span> and <span class="index">category</span><span id="chapter-2-49"></span> <span class="teletype">Complex</span> requires that its argument belong to <span class="teletype">CommutativeRing</span>. See <a href="section-2.1.xhtml#ugTypesBasic" class="ref">ugTypesBasic</a> for a brief discussion of categories. The <span class="teletype">Integer</span> level did not move anywhere because it does not allow any arguments. We also did not move the <span class="teletype">SquareMatrix</span> part anywhere, but we could have.</p>
Recall that
m looks like this.
<div id="spadComm2-94" class="spadComm">
<span id="commSav2-94" class="commSav">m</span>
<div id="mathAns2-94">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[x-34iy2z+1237iy4-x12-95i]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: SquareMatrix(2,Polynomial Complex Fraction Integer)
</div>
<p>If we want a polynomial with matrix coefficients rather than a matrix with polynomial entries, we can just do the conversion.</p>
<div id="spadComm2-95" class="spadComm">
<span id="commSav2-95" class="commSav">m :: POLY SquareMatrix(2,COMPLEX FRAC INT)</span>
<div id="mathAns2-95">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[0100]y2z+[0037i0]y4+[10-10]x+[-34i12012-95i]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Polynomial SquareMatrix(2,Complex Fraction Integer)
</div>
<p>We have not yet used modes for any conversions. Modes are a great shorthand for indicating the type of the object you want. Instead of using the long type expression in the last example, we could have simply said this.</p>
<div id="spadComm2-96" class="spadComm">
<span id="commSav2-96" class="commSav">m :: POLY ?</span>
<div id="mathAns2-96">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[0100]y2z+[0037i0]y4+[10-10]x+[-34i12012-95i]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Polynomial SquareMatrix(2,Complex Fraction Integer)
</div>
<p>We can also indicate more structure if we want the entries of the matrices to be fractions.</p>
<div id="spadComm2-97" class="spadComm">
<span id="commSav2-97" class="commSav">m :: POLY SquareMatrix(2,FRAC ?)</span>
<div id="mathAns2-97">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[0100]y2z+[003i70]y4+[10-10]x+[-3i412060-9i5]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Polynomial SquareMatrix(2,Fraction Complex Integer)
</div>
</section>
<a href="book-contents.xhtml">Book Contents</a> <a href="section-2.6.xhtml">Previous Section 2.6 The <span class="italic">Any</span> Domain</a><a href="section-2.8.xhtml">Next Section 2.8 Subdomains Again</a> <a href="book-index.xhtml">Book Index</a>
</body>
</html>
