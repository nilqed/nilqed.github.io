<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section9.30</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.29.xhtml" style="margin-right: 10px;">Previous Section 9.29 FullPartialFractionExpansion</a><a href="section-9.31.xhtml" style="margin-right: 10px;">Next Section 9.31 GroebnerFactorizationPackage</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-9.30">
<h2 class="sectiontitle">9.30  GeneralSparseTable</h2>


<a name="GeneralSparseTableXmpPage" class="label"/>


<p>Sometimes when working with tables there is a natural value to use as
the entry in all but a few cases.  The <span class="teletype">GeneralSparseTable</span>
constructor can be used to provide any table type with a default value
for entries.  See <a href="section-9.18.xhtml#EqTableXmpPage" class="ref" >TableXmpPage</a>  
for general information about tables.  
</p>


<p>Suppose we launched a fund-raising campaign to raise fifty thousand dollars.
To record the contributions, we want a table with strings as keys
(for the names) and integer entries (for the amount).
In a data base of cash contributions, unless someone
has been explicitly entered, it is reasonable to assume they have made
a zero dollar contribution.
</p>


<p>This creates a keyed access file with default entry <span class="teletype">0</span>.
</p>




<div id="spadComm9-66" class="spadComm" >
<form id="formComm9-66" action="javascript:makeRequest('9-66');" >
<input id="comm9-66" type="text" class="command" style="width: 58em;" value="patrons: GeneralSparseTable(String, Integer, KeyedAccessFile(Integer), 0) := table() ; " />
</form>
<span id="commSav9-66" class="commSav" >patrons: GeneralSparseTable(String, Integer, KeyedAccessFile(Integer), 0) := table() ; </span>
<div id="mathAns9-66" ></div>
</div>




<div class="returnType">
Type: GeneralSparseTable(String,Integer,KeyedAccessFile Integer,0)
</div>




<p>Now <span class="teletype">patrons</span> can be used just as any other table.
Here we record two gifts.
</p>




<div id="spadComm9-67" class="spadComm" >
<form id="formComm9-67" action="javascript:makeRequest('9-67');" >
<input id="comm9-67" type="text" class="command" style="width: 17em;" value='patrons."Smith" := 10500 ' />
</form>
<span id="commSav9-67" class="commSav" >patrons."Smith" := 10500 </span>
<div id="mathAns9-67" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>10500</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-68" class="spadComm" >
<form id="formComm9-68" action="javascript:makeRequest('9-68');" >
<input id="comm9-68" type="text" class="command" style="width: 17em;" value='patrons."Jones" := 22000 ' />
</form>
<span id="commSav9-68" class="commSav" >patrons."Jones" := 22000 </span>
<div id="mathAns9-68" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>22000</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>



<p>Now let us look up the size of the contributions from Jones and Stingy.
</p>




<div id="spadComm9-69" class="spadComm" >
<form id="formComm9-69" action="javascript:makeRequest('9-69');" >
<input id="comm9-69" type="text" class="command" style="width: 12em;" value='patrons."Jones"  ' />
</form>
<span id="commSav9-69" class="commSav" >patrons."Jones"  </span>
<div id="mathAns9-69" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>22000</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>





<div id="spadComm9-70" class="spadComm" >
<form id="formComm9-70" action="javascript:makeRequest('9-70');" >
<input id="comm9-70" type="text" class="command" style="width: 12em;" value='patrons."Stingy" ' />
</form>
<span id="commSav9-70" class="commSav" >patrons."Stingy" </span>
<div id="mathAns9-70" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>0</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: NonNegativeInteger
</div>



<p>Have we met our seventy thousand dollar goal?
</p>




<div id="spadComm9-71" class="spadComm" >
<form id="formComm9-71" action="javascript:makeRequest('9-71');" >
<input id="comm9-71" type="text" class="command" style="width: 18em;" value="reduce(+, entries patrons) " />
</form>
<span id="commSav9-71" class="commSav" >reduce(+, entries patrons) </span>
<div id="mathAns9-71" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>32500</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: PositiveInteger
</div>



<p>So the project is cancelled and we can delete the data base:
</p>




<div id="spadComm9-72" class="spadComm" >
<form id="formComm9-72" action="javascript:makeRequest('9-72');" >
<input id="comm9-72" type="text" class="command" style="width: 17em;" value=")system rm -r kaf*.sdata " />
</form>
<span id="commSav9-72" class="commSav" >)system rm -r kaf*.sdata </span>
<div id="mathAns9-72" ></div>
</div>





</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-9.29.xhtml" style="margin-right: 10px;">Previous Section 9.29 FullPartialFractionExpansion</a><a href="section-9.31.xhtml" style="margin-right: 10px;">Next Section 9.31 GroebnerFactorizationPackage</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>