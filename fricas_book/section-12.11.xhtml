<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section12.11</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-12.10.xhtml" style="margin-right: 10px;">Previous Section 12.10 Parameters</a><a href="section-12.12.xhtml" style="margin-right: 10px;">Next Section 12.12 Anonymous Categories</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-12.11">
<h2 class="sectiontitle">12.11  Conditionals</h2>


<a name="ugCategoriesConditionals" class="label"/>


<p>As categories have parameters, the actual operations exported by a
<span class="index">conditional</span><a name="chapter-12-23"/>
category can depend on these parameters.
As an example, the operation <span class="spadfunFrom" >determinant</span><span class="index">determinant</span><a name="chapter-12-24"/><span class="index">MatrixCategory</span><a name="chapter-12-25"/>
from category <span class="teletype">MatrixCategory</span> is only exported when the
underlying domain  <math xmlns="&mathml;" mathsize="big"><mstyle><mi>R</mi></mstyle></math> has commutative multiplication:
</p>




<div class="verbatim"><br />
if&nbsp;R&nbsp;has&nbsp;commutative("*")&nbsp;then<br />
&nbsp;&nbsp;&nbsp;determinant:&nbsp;$&nbsp;-&gt;&nbsp;R<br />
</div>



<p>Conditionals can also define conditional extensions of a category.
Here is a portion of the definition of <span class="teletype">QuotientFieldCategory</span>:
<span class="index">QuotientFieldCategory</span><a name="chapter-12-26"/>
</p>




<div class="verbatim"><br />
QuotientFieldCategory(R)&nbsp;:&nbsp;Category&nbsp;==&nbsp;...&nbsp;with&nbsp;...<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;R&nbsp;has&nbsp;OrderedSet&nbsp;then&nbsp;OrderedSet<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;R&nbsp;has&nbsp;IntegerNumberSystem&nbsp;then<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ceiling:&nbsp;$&nbsp;-&gt;&nbsp;R<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br />
</div>



<p>Think of category <span class="teletype">QuotientFieldCategory(R)</span> as
denoting the domain <span class="teletype">Fraction(R)</span>, the
class of all fractions of the form  <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><mi>a</mi><mo>/</mo><mi>b</mi></mrow></mstyle></math> for elements of  <math xmlns="&mathml;" mathsize="big"><mstyle><mi>R</mi></mstyle></math>.
The first conditional means in English:
<span class="italic">If the elements of  <math xmlns="&mathml;" mathsize="big"><mstyle><mi>R</mi></mstyle></math> are totally ordered ( <math xmlns="&mathml;" mathsize="big"><mstyle><mi>R</mi></mstyle></math>
is an <span class="teletype">OrderedSet</span>), then so are the fractions  <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><mi>a</mi><mo>/</mo><mi>b</mi></mrow></mstyle></math></span>.
<span class="index">Fraction</span><a name="chapter-12-27"/>
</p>


<p>The second conditional is used to conditionally export an
operation <span style="font-weight: bold;"> ceiling</span> which returns the smallest integer
greater than or equal to its argument.
Clearly, <span class="italic">ceiling</span> makes sense for integers but not for
polynomials and other algebraic structures.
Because of this conditional,
the domain <span class="teletype">Fraction(Integer)</span> exports
an operation
<span style="font-weight: bold;"> ceiling</span>: Fraction Integer->Integer, but
<span class="teletype">Fraction Polynomial Integer</span> does not.
</p>


<p>Conditionals can also appear in the default definitions for the
operations of a category.
For example, a default definition for <span class="spadfunFrom" >ceiling</span><span class="index">ceiling</span><a name="chapter-12-28"/><span class="index">Field</span><a name="chapter-12-29"/>
within the part following the  <math xmlns="&mathml;" mathsize="big"><mstyle><mi>add</mi></mstyle></math> reads:
</p>




<div class="verbatim"><br />
if&nbsp;R&nbsp;has&nbsp;IntegerNumberSystem&nbsp;then<br />
&nbsp;&nbsp;&nbsp;&nbsp;ceiling&nbsp;x&nbsp;==&nbsp;...<br />
</div>



<p>Here the predicate used is identical to the predicate in the <span class="teletype">Exports</span> part.  This need not be the case.  See <a href="section-11.8.xhtml#ugPackagesConds" class="ref" >ugPackagesConds</a>
 for a more complicated example.
</p>




</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-12.10.xhtml" style="margin-right: 10px;">Previous Section 12.10 Parameters</a><a href="section-12.12.xhtml" style="margin-right: 10px;">Next Section 12.12 Anonymous Categories</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>