<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Section9.80</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Section9.80</h1>
</header>
]&gt;
<a href="book-contents.xhtml">Book Contents</a><a href="section-9.79.xhtml">Previous Section 9.79 Symbol</a><a href="section-9.81.xhtml">Next Section 9.81 TextFile</a> <a href="book-index.xhtml">Book Index</a>
<section id="sec-9.80">
<h2 class="sectiontitle" id="table">9.80 Table</h2>
<span id="TableXmpPage" class="label"></span>
<p>The <span class="teletype">Table</span> constructor provides a general structure for associative storage. This type provides hash tables in which data objects can be saved according to keys of any type. For a given table, specific types must be chosen for the keys and entries.</p>
<p>In this example the keys to the table are polynomials with integer coefficients. The entries in the table are strings.</p>
<div id="spadComm9-157" class="spadComm">
<span id="commSav9-157" class="commSav">t: Table(Polynomial Integer, String) := table() </span>
<div id="mathAns9-157">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>table()</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Table(Polynomial Integer,String)
</div>
<p>To save an entry in the table, the <span class="spadfunFrom">setelt</span><span class="index">setelt</span><span id="chapter-9-92"></span><span class="index">Table</span><span id="chapter-9-93"></span> operation is used. This can be called directly, giving the table a key and an entry.</p>
<div id="spadComm9-158" class="spadComm">
<span id="commSav9-158" class="commSav">setelt(t, x^2 - 1, "Easy to factor") </span>
<div id="mathAns9-158">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Easytofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>Alternatively, you can use assignment syntax.</p>
<div id="spadComm9-159" class="spadComm">
<span id="commSav9-159" class="commSav">t(x^3 + 1) := "Harder to factor" </span>
<div id="mathAns9-159">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Hardertofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<div id="spadComm9-160" class="spadComm">
<span id="commSav9-160" class="commSav">t(x) := "The easiest to factor" </span>
<div id="mathAns9-160">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Theeasiesttofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>Entries are retrieved from the table by calling the <span class="spadfunFrom">elt</span><span class="index">elt</span><span id="chapter-9-94"></span><span class="index">Table</span><span id="chapter-9-95"></span> operation.</p>
<div id="spadComm9-161" class="spadComm">
<span id="commSav9-161" class="commSav">elt(t, x) </span>
<div id="mathAns9-161">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Theeasiesttofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>This operation is called when a table is <span class="italic">applied</span> to a key using this or the following syntax.</p>
<div id="spadComm9-162" class="spadComm">
<span id="commSav9-162" class="commSav">t.x </span>
<div id="mathAns9-162">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Theeasiesttofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<div id="spadComm9-163" class="spadComm">
<span id="commSav9-163" class="commSav">t x </span>
<div id="mathAns9-163">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Theeasiesttofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>Parentheses are used only for grouping. They are needed if the key is an infixed expression.</p>
<div id="spadComm9-164" class="spadComm">
<span id="commSav9-164" class="commSav">t.(x^2 - 1) </span>
<div id="mathAns9-164">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Easytofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>Note that the <span class="spadfunFrom">elt</span><span class="index">elt</span><span id="chapter-9-96"></span><span class="index">Table</span><span id="chapter-9-97"></span> operation is used only when the key is known to be in the table---otherwise an error is generated.</p>
<div id="spadComm9-165" class="spadComm">
<span id="commSav9-165" class="commSav">t (x^3 + 1) </span>
<div id="mathAns9-165">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Hardertofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: String
</div>
<p>You can get a list of all the keys to a table using the <span class="spadfunFrom">keys</span><span class="index">keys</span><span id="chapter-9-98"></span><span class="index">Table</span><span id="chapter-9-99"></span> operation.</p>
<div id="spadComm9-166" class="spadComm">
<span id="commSav9-166" class="commSav">keys t </span>
<div id="mathAns9-166">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>[x,x3+1,x2-1]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: List Polynomial Integer
</div>
<p>If you wish to test whether a key is in a table, the <span class="spadfunFrom">search</span><span class="index">search</span><span id="chapter-9-100"></span><span class="index">Table</span><span id="chapter-9-101"></span> operation is used. This operation returns either an entry or <span class="teletype">"failed"</span>.</p>
<div id="spadComm9-167" class="spadComm">
<span id="commSav9-167" class="commSav">search(x, t) </span>
<div id="mathAns9-167">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Theeasiesttofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Union(String,...)
</div>
<div id="spadComm9-168" class="spadComm">
<span id="commSav9-168" class="commSav">search(x^2, t) </span>
<div id="mathAns9-168">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"failed"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Union("failed",...)
</div>
<p>The return type is a union so the success of the search can be tested using <span class="teletype">case</span>.</p>
<div id="spadComm9-169" class="spadComm">
<span id="commSav9-169" class="commSav">search(x^2, t) case "failed" </span>
<div id="mathAns9-169">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>true</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Boolean
</div>
<p>The <span class="spadfunFrom">remove</span><span class="index">remove</span><span id="chapter-9-102"></span><span class="index">Table</span><span id="chapter-9-103"></span> operation is used to delete values from a table.</p>
<div id="spadComm9-170" class="spadComm">
<span id="commSav9-170" class="commSav">remove!(x^2-1, t) </span>
<div id="mathAns9-170">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"Easytofactor"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Union(String,...)
</div>
<p>If an entry exists under the key, then it is returned. Otherwise <span class="spadfunFrom">remove</span><span class="index">remove</span><span id="chapter-9-104"></span><span class="index">Table</span><span id="chapter-9-105"></span> returns <span class="teletype">"failed"</span>.</p>
<div id="spadComm9-171" class="spadComm">
<span id="commSav9-171" class="commSav">remove!(x-1, t) </span>
<div id="mathAns9-171">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>"failed"</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Union("failed",...)
</div>
<p>The number of key-entry pairs can be found using the <span class="spadfunFrom"> #</span><span class="index"> #</span><span id="chapter-9-106"></span><span class="index">Table</span><span id="chapter-9-107"></span> operation.</p>
<div id="spadComm9-172" class="spadComm">
<span id="commSav9-172" class="commSav"> #t </span>
<div id="mathAns9-172">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>2</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: PositiveInteger
</div>
<p>Just as <span class="spadfunFrom">keys</span><span class="index">keys</span><span id="chapter-9-108"></span><span class="index">Table</span><span id="chapter-9-109"></span> returns a list of keys to the table, a list of all the entries can be obtained using the <span class="spadfunFrom">members</span><span class="index">members</span><span id="chapter-9-110"></span><span class="index">Table</span><span id="chapter-9-111"></span> operation.</p>
<div id="spadComm9-173" class="spadComm">
<span id="commSav9-173" class="commSav">members t </span>
<div id="mathAns9-173">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>["Theeasiesttofactor","Hardertofactor"]</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: List String
</div>
<p>A number of useful operations take functions and map them on to the table to compute the result. Here we count the entries which have <span class="italic"><span class="teletype">Hard</span></span> as a prefix.</p>
<div id="spadComm9-174" class="spadComm">
<span id="commSav9-174" class="commSav">count(s: String +-&gt; prefix?("Hard", s), t) </span>
<div id="mathAns9-174">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>1</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: PositiveInteger
</div>
<p>Other table types are provided to support various needs. \indent</p>
<div class="beginlist">
<div class="item">
<span class="teletype">AssociationList</span> gives a list with a table view. This allows new entries to be appended onto the front of the list to cover up old entries. This is useful when table entries need to be stacked or when frequent list traversals are required. See <a href="section-9.1.xhtml#AssociationListXmpPage" class="ref">AssociationListXmpPage</a> for more information.
</div>
<div class="item">
<span class="teletype">EqTable</span> gives tables in which keys are considered equal only when they are in fact the same instance of a structure. See <a href="section-9.18.xhtml#EqTableXmpPage" class="ref">EqTableXmpPage</a> for more information.
</div>
<div class="item">
<span class="teletype">StringTable</span> should be used when the keys are known to be strings. See <a href="section-9.78.xhtml#StringTableXmpPage" class="ref">StringTableXmpPage</a> for more information.
</div>
<div class="item">
<span class="teletype">SparseTable</span> provides tables with default entries, so lookup never fails. The <span class="teletype">GeneralSparseTable</span> constructor can be used to make any table type behave this way. See <a href="section-9.30.xhtml#GeneralSparseTableXmpPage" class="ref">SparseTableXmpPage</a> for more information.
</div>
<div class="item">
<span class="teletype">KeyedAccessFile</span> allows values to be saved in a file, accessed as a table. See <a href="section-9.38.xhtml#KeyedAccessFileXmpPage" class="ref">KeyedAccessFileXmpPage</a> for more information.
</div>
</div>
</section>
<a href="book-contents.xhtml">Book Contents</a> <a href="section-9.79.xhtml">Previous Section 9.79 Symbol</a><a href="section-9.81.xhtml">Next Section 9.81 TextFile</a> <a href="book-index.xhtml">Book Index</a>
</body>
</html>
