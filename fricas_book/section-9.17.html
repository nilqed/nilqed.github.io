<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Section9.17</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Section9.17</h1>
</header>
]&gt;
<a href="book-contents.xhtml">Book Contents</a><a href="section-9.16.xhtml">Previous Section 9.16 DistributedMultivariatePolynomial</a><a href="section-9.18.xhtml">Next Section 9.18 EqTable</a> <a href="book-index.xhtml">Book Index</a>
<section id="sec-9.17">
<h2 class="sectiontitle" id="doublefloat">9.17 DoubleFloat</h2>
<span id="DoubleFloatXmpPage" class="label"></span>
<p>FriCAS provides two kinds of floating point numbers. The domain <span class="teletype">Float</span> (abbreviation <span class="teletype">FLOAT</span>) implements a model of arbitrary precision floating point numbers. The domain <span class="teletype">DoubleFloat</span> (abbreviation <span class="teletype">DFLOAT</span>) is intended to make available hardware floating point arithmetic in FriCAS. The actual model of floating point <span class="teletype">DoubleFloat</span> that provides is system-dependent. For example, on the IBM system 370 FriCAS uses IBM double precision which has fourteen hexadecimal digits of precision or roughly sixteen decimal digits. Arbitrary precision floats allow the user to specify the precision at which arithmetic operations are computed. Although this is an attractive facility, it comes at a cost. Arbitrary-precision floating-point arithmetic typically takes twenty to two hundred times more time than hardware floating point.</p>
<p>The usual arithmetic and elementary functions are available for <span class="teletype">DoubleFloat</span>. Use <span class="teletype">)show DoubleFloat</span> to get a list of operations or the HyperDoc browse facility to get more extensive documentation about <span class="teletype">DoubleFloat</span>.</p>
<p>By default, floating point numbers that you enter into FriCAS are of type <span class="teletype">Float</span>.</p>
<div id="spadComm9-98" class="spadComm">
<span id="commSav9-98" class="commSav">2.71828</span>
<div id="mathAns9-98">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>2.71828</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: Float
</div>
<p>You must therefore tell FriCAS that you want to use <span class="teletype">DoubleFloat</span> values and operations. The following are some conservative guidelines for getting FriCAS to use <span class="teletype">DoubleFloat</span>.</p>
<p>To get a value of type <span class="teletype">DoubleFloat</span>, use a target with <span class="teletype">@</span>, ...</p>
<div id="spadComm9-99" class="spadComm">
<span id="commSav9-99" class="commSav">2.71828@DoubleFloat</span>
<div id="mathAns9-99">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>2.71828</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: DoubleFloat
</div>
<p>a conversion, ...</p>
<div id="spadComm9-100" class="spadComm">
<span id="commSav9-100" class="commSav">2.71828 :: DoubleFloat</span>
<div id="mathAns9-100">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>2.71828</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: DoubleFloat
</div>
<p>or an assignment to a declared variable. It is more efficient if you use a target rather than an explicit or implicit conversion.</p>
<div id="spadComm9-101" class="spadComm">
<span id="commSav9-101" class="commSav">eApprox : DoubleFloat := 2.71828 </span>
<div id="mathAns9-101">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>2.71828</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: DoubleFloat
</div>
<p>You also need to declare functions that work with <span class="teletype">DoubleFloat</span>.</p>
<div id="spadComm9-102" class="spadComm">
<span id="commSav9-102" class="commSav">avg : List DoubleFloat -&gt; DoubleFloat </span>
<div id="mathAns9-102">

</div>
</div>
<div class="returnType">
Type: Void
</div>
<div class="verbatim">
<br />
avg l ==<br />
  empty? l =&gt; 0 :: DoubleFloat<br />
  reduce(_+,l) / #l<br />

</div>
<div class="returnType">
Type: Void
</div>
<div id="spadComm9-103" class="spadComm">
<span id="commSav9-103" class="commSav">avg [] </span>
<div id="mathAns9-103">

</div>
</div>
<p>this complains but succeeds</p>
<div id="spadComm9-104" class="spadComm">
<span id="commSav9-104" class="commSav">avg [3.4,9.7,-6.8] </span>
<div id="mathAns9-104">

</div>
</div>
<div class="verbatim">
<br />
   Compiling function avg with type List Float -&gt; DoubleFloat <br />
<br />

</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>2.1</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: DoubleFloat
</div>
<p>Use package-calling for operations from <span class="teletype">DoubleFloat</span> unless the arguments themselves are already of type <span class="teletype">DoubleFloat</span>.</p>
<div id="spadComm9-105" class="spadComm">
<span id="commSav9-105" class="commSav">cos(3.1415926)$DoubleFloat</span>
<div id="mathAns9-105">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>-0.999999999999999</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: DoubleFloat
</div>
<div id="spadComm9-106" class="spadComm">
<span id="commSav9-106" class="commSav">cos(3.1415926 :: DoubleFloat)</span>
<div id="mathAns9-106">

</div>
</div>
<div class="math">
<table>
<tbody>
<tr class="odd">
<td>-0.999999999999999</td>
</tr>
</tbody>
</table>
</div>
<div class="returnType">
Type: DoubleFloat
</div>
<p>By far, the most common usage of <span class="teletype">DoubleFloat</span> is for functions to be graphed. For more information about FriCAS's numerical and graphical facilities, see Section <a href="section-7.0.xhtml#ugGraph" class="ref">ugGraph</a> , <a href="section-8.1.xhtml#ugProblemNumeric" class="ref">ugProblemNumeric</a> , and <a href="section-9.17.xhtml#DoubleFloatXmpPage" class="ref">FloatXmpPage</a> .</p>
</section>
<a href="book-contents.xhtml">Book Contents</a> <a href="section-9.16.xhtml">Previous Section 9.16 DistributedMultivariatePolynomial</a><a href="section-9.18.xhtml">Next Section 9.18 EqTable</a> <a href="book-index.xhtml">Book Index</a>
</body>
</html>
