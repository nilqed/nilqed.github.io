<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section9.25</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.24.xhtml" style="margin-right: 10px;">Previous Section 9.24 File</a><a href="section-9.26.xhtml" style="margin-right: 10px;">Next Section 9.26 FlexibleArray</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-9.25">
<h2 class="sectiontitle">9.25  FileName</h2>


<a name="FileNameXmpPage" class="label"/>

<p> 
The <span class="teletype">FileName</span> domain provides an interface to the computer's file
system.  Functions are provided to manipulate file names and to test
properties of files.
 
The simplest way to use file names in the FriCAS interpreter is to rely
on conversion to and from strings.  The syntax of these strings
depends on the operating system.
</p>




<div id="spadComm9-209" class="spadComm" >
<form id="formComm9-209" action="javascript:makeRequest('9-209');" >
<input id="comm9-209" type="text" class="command" style="width: 9em;" value="fn: FileName " />
</form>
<span id="commSav9-209" class="commSav" >fn: FileName </span>
<div id="mathAns9-209" ></div>
</div>




<div class="returnType">
Type: Void
</div>



<p>On Linux, this is a proper file syntax:
</p>




<div id="spadComm9-210" class="spadComm" >
<form id="formComm9-210" action="javascript:makeRequest('9-210');" >
<input id="comm9-210" type="text" class="command" style="width: 17em;" value='fn := "/tmp/fname.input" ' />
</form>
<span id="commSav9-210" class="commSav" >fn := "/tmp/fname.input" </span>
<div id="mathAns9-210" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"/tmp/fname.input"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: FileName
</div>



<p>Although it is very convenient to be able to use string notation
for file names in the interpreter, it is desirable to have a portable
way of creating and manipulating file names from within programs.
</p>


<p>A measure of portability is obtained by considering a file name
to consist of three parts: the <span class="italic">directory</span>, the <span class="italic">name</span>,
and the <span class="italic">extension</span>.
</p>




<div id="spadComm9-211" class="spadComm" >
<form id="formComm9-211" action="javascript:makeRequest('9-211');" >
<input id="comm9-211" type="text" class="command" style="width: 9em;" value="directory fn " />
</form>
<span id="commSav9-211" class="commSav" >directory fn </span>
<div id="mathAns9-211" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"/tmp"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: String
</div>





<div id="spadComm9-212" class="spadComm" >
<form id="formComm9-212" action="javascript:makeRequest('9-212');" >
<input id="comm9-212" type="text" class="command" style="width: 6em;" value="name fn " />
</form>
<span id="commSav9-212" class="commSav" >name fn </span>
<div id="mathAns9-212" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"fname"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: String
</div>





<div id="spadComm9-213" class="spadComm" >
<form id="formComm9-213" action="javascript:makeRequest('9-213');" >
<input id="comm9-213" type="text" class="command" style="width: 9em;" value="extension fn " />
</form>
<span id="commSav9-213" class="commSav" >extension fn </span>
<div id="mathAns9-213" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"input"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: String
</div>



<p>The meaning of these three parts depends on the operating system.
For example, on CMS the file <span class="italic"><span class="teletype">SPADPROF INPUT M</span></span>
would have directory <span class="italic"><span class="teletype">M</span></span>, name <span class="italic"><span class="teletype">SPADPROF</span></span> and
extension <span class="italic"><span class="teletype">INPUT</span></span>.
 
It is possible to create a filename from its parts.
</p>




<div id="spadComm9-214" class="spadComm" >
<form id="formComm9-214" action="javascript:makeRequest('9-214');" >
<input id="comm9-214" type="text" class="command" style="width: 34em;" value='fn := filename("/u/smwatt/work", "fname", "input") ' />
</form>
<span id="commSav9-214" class="commSav" >fn := filename("/u/smwatt/work", "fname", "input") </span>
<div id="mathAns9-214" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"/u/smwatt/work/fname.input"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: FileName
</div>



<p>When writing programs, it is helpful to refer to directories via
variables.
</p>




<div id="spadComm9-215" class="spadComm" >
<form id="formComm9-215" action="javascript:makeRequest('9-215');" >
<input id="comm9-215" type="text" class="command" style="width: 12em;" value='objdir := "/tmp" ' />
</form>
<span id="commSav9-215" class="commSav" >objdir := "/tmp" </span>
<div id="mathAns9-215" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"/tmp"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: String
</div>





<div id="spadComm9-216" class="spadComm" >
<form id="formComm9-216" action="javascript:makeRequest('9-216');" >
<input id="comm9-216" type="text" class="command" style="width: 27em;" value='fn := filename(objdir, "table", "spad") ' />
</form>
<span id="commSav9-216" class="commSav" >fn := filename(objdir, "table", "spad") </span>
<div id="mathAns9-216" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"/tmp/table.spad"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: FileName
</div>



<p>If the directory or the extension is given as an empty string, then
a default is used.  On AIX, the defaults are the current directory
and no extension.
</p>




<div id="spadComm9-217" class="spadComm" >
<form id="formComm9-217" action="javascript:makeRequest('9-217');" >
<input id="comm9-217" type="text" class="command" style="width: 22em;" value='fn := filename("", "letter", "") ' />
</form>
<span id="commSav9-217" class="commSav" >fn := filename("", "letter", "") </span>
<div id="mathAns9-217" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"letter"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: FileName
</div>


<p> 
Three tests provide information about names in the file system.
</p>


<p>The <span class="spadfunFrom" >exists?</span><span class="index">exists?</span><a name="chapter-9-72"/><span class="index">FileName</span><a name="chapter-9-73"/> operation tests whether the named
file exists.
</p>




<div id="spadComm9-218" class="spadComm" >
<form id="formComm9-218" action="javascript:makeRequest('9-218');" >
<input id="comm9-218" type="text" class="command" style="width: 14em;" value='exists? "/etc/passwd"' />
</form>
<span id="commSav9-218" class="commSav" >exists? "/etc/passwd"</span>
<div id="mathAns9-218" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>true</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>



<p>The operation <span class="spadfunFrom" >readable?</span><span class="index">readable?</span><a name="chapter-9-74"/><span class="index">FileName</span><a name="chapter-9-75"/> tells whether the named file
can be read.  If the file does not exist, then it cannot be read.
</p>




<div id="spadComm9-219" class="spadComm" >
<form id="formComm9-219" action="javascript:makeRequest('9-219');" >
<input id="comm9-219" type="text" class="command" style="width: 16em;" value='readable? "/etc/passwd"' />
</form>
<span id="commSav9-219" class="commSav" >readable? "/etc/passwd"</span>
<div id="mathAns9-219" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>true</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>





<div id="spadComm9-220" class="spadComm" >
<form id="formComm9-220" action="javascript:makeRequest('9-220');" >
<input id="comm9-220" type="text" class="command" style="width: 22em;" value='readable? "/etc/security/passwd"' />
</form>
<span id="commSav9-220" class="commSav" >readable? "/etc/security/passwd"</span>
<div id="mathAns9-220" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>false</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>





<div id="spadComm9-221" class="spadComm" >
<form id="formComm9-221" action="javascript:makeRequest('9-221');" >
<input id="comm9-221" type="text" class="command" style="width: 16em;" value='readable? "/ect/passwd"' />
</form>
<span id="commSav9-221" class="commSav" >readable? "/ect/passwd"</span>
<div id="mathAns9-221" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>false</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>



<p>Likewise, the operation <span class="spadfunFrom" >writable?</span><span class="index">writable?</span><a name="chapter-9-76"/><span class="index">FileName</span><a name="chapter-9-77"/> tells
whether the named file can be written.  If the file does not exist,
the test is determined by the properties of the directory.
</p>




<div id="spadComm9-222" class="spadComm" >
<form id="formComm9-222" action="javascript:makeRequest('9-222');" >
<input id="comm9-222" type="text" class="command" style="width: 16em;" value='writable? "/etc/passwd"' />
</form>
<span id="commSav9-222" class="commSav" >writable? "/etc/passwd"</span>
<div id="mathAns9-222" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>false</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>





<div id="spadComm9-223" class="spadComm" >
<form id="formComm9-223" action="javascript:makeRequest('9-223');" >
<input id="comm9-223" type="text" class="command" style="width: 14em;" value='writable? "/dev/null"' />
</form>
<span id="commSav9-223" class="commSav" >writable? "/dev/null"</span>
<div id="mathAns9-223" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>true</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>





<div id="spadComm9-224" class="spadComm" >
<form id="formComm9-224" action="javascript:makeRequest('9-224');" >
<input id="comm9-224" type="text" class="command" style="width: 20em;" value='writable? "/etc/DoesNotExist"' />
</form>
<span id="commSav9-224" class="commSav" >writable? "/etc/DoesNotExist"</span>
<div id="mathAns9-224" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>false</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>





<div id="spadComm9-225" class="spadComm" >
<form id="formComm9-225" action="javascript:makeRequest('9-225');" >
<input id="comm9-225" type="text" class="command" style="width: 20em;" value='writable? "/tmp/DoesNotExist"' />
</form>
<span id="commSav9-225" class="commSav" >writable? "/tmp/DoesNotExist"</span>
<div id="mathAns9-225" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext mathvariant='monospace'>true</mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Boolean
</div>


<p> 
The <span class="spadfunFrom" >new</span><span class="index">new</span><a name="chapter-9-78"/><span class="index">FileName</span><a name="chapter-9-79"/> operation constructs the name of a new
writable file.  The argument sequence is the same as for
<span class="spadfunFrom" >filename</span><span class="index">filename</span><a name="chapter-9-80"/><span class="index">FileName</span><a name="chapter-9-81"/>, except that the name part is
actually a prefix for a constructed unique name.
</p>


<p>The resulting file is in the specified directory
with the given extension, and the same defaults are used.
</p>




<div id="spadComm9-226" class="spadComm" >
<form id="formComm9-226" action="javascript:makeRequest('9-226');" >
<input id="comm9-226" type="text" class="command" style="width: 21em;" value='fn := new(objdir, "xxx", "yy") ' />
</form>
<span id="commSav9-226" class="commSav" >fn := new(objdir, "xxx", "yy") </span>
<div id="mathAns9-226" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtext><mrow><mtext mathvariant='monospace'>"/tmp/xxx82404.yy"</mtext></mrow></mtext></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: FileName
</div>





</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-9.24.xhtml" style="margin-right: 10px;">Previous Section 9.24 File</a><a href="section-9.26.xhtml" style="margin-right: 10px;">Next Section 9.26 FlexibleArray</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>